var Me=Object.defineProperty;var Se=(E,e,t)=>e in E?Me(E,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[e]=t;var we=(E,e,t)=>Se(E,typeof e!="symbol"?e+"":e,t);function ke(E,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in E)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(E,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const Ie="modulepreload",Te=function(E,e){return new URL(E,e).href},Pe={},Ge=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=Te(l,s),l in Pe)return;Pe[l]=!0;const f=l.endsWith(".css"),w=f?'[rel="stylesheet"]':"";if(!!s)for(let B=a.length-1;B>=0;B--){const D=a[B];if(D.href===l&&(!f||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${w}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":Ie,f||(y.as="script"),y.crossOrigin="",y.href=l,u&&y.setAttribute("nonce",u),document.head.appendChild(y),f)return new Promise((B,D)=>{y.addEventListener("load",B),y.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var pe={exports:{}};(function(E,e){(function(t,s){E.exports=s()})(Fe,function(){return function(t){var s={};function i(o){if(s[o])return s[o].exports;var a=s[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=s,i.d=function(o,a,c){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:c})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(1&a&&(o=i(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)i.d(c,u,(function(l){return o[l]}).bind(null,u));return c},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=0)}([function(t,s,i){i.r(s),i.d(s,"Game",function(){return U}),i.d(s,"moves",function(){return De}),i.d(s,"status",function(){return ye}),i.d(s,"getFen",function(){return be}),i.d(s,"move",function(){return Qe}),i.d(s,"aiMove",function(){return He});const o=["A","B","C","D","E","F","G","H"],a=["1","2","3","4","5","6","7","8"],c={KING_W:"K",QUEEN_W:"Q",ROOK_W:"R",BISHOP_W:"B",KNIGHT_W:"N",PAWN_W:"P",KING_B:"k",QUEEN_B:"q",ROOK_B:"r",BISHOP_B:"b",KNIGHT_B:"n",PAWN_B:"p"},u="black",l="white",f=[0,1,2,3,4],w={0:1,1:2,2:2,3:3,4:3,5:4},C={0:2,1:2,2:4,3:4,4:5,5:5},y={fullMove:1,halfMove:0,enPassant:null,isFinished:!1,checkMate:!1,check:!1,turn:l},B=Object.assign({pieces:{E1:"K",D1:"Q",A1:"R",H1:"R",C1:"B",F1:"B",B1:"N",G1:"N",A2:"P",B2:"P",C2:"P",D2:"P",E2:"P",F2:"P",G2:"P",H2:"P",E8:"k",D8:"q",A8:"r",H8:"r",C8:"b",F8:"b",B8:"n",G8:"n",A7:"p",B7:"p",C7:"p",D7:"p",E7:"p",F7:"p",G7:"p",H7:"p"},castling:{whiteShort:!0,blackShort:!0,whiteLong:!0,blackLong:!0}},y),D={UP:{A1:"A2",A2:"A3",A3:"A4",A4:"A5",A5:"A6",A6:"A7",A7:"A8",A8:null,B1:"B2",B2:"B3",B3:"B4",B4:"B5",B5:"B6",B6:"B7",B7:"B8",B8:null,C1:"C2",C2:"C3",C3:"C4",C4:"C5",C5:"C6",C6:"C7",C7:"C8",C8:null,D1:"D2",D2:"D3",D3:"D4",D4:"D5",D5:"D6",D6:"D7",D7:"D8",D8:null,E1:"E2",E2:"E3",E3:"E4",E4:"E5",E5:"E6",E6:"E7",E7:"E8",E8:null,F1:"F2",F2:"F3",F3:"F4",F4:"F5",F5:"F6",F6:"F7",F7:"F8",F8:null,G1:"G2",G2:"G3",G3:"G4",G4:"G5",G5:"G6",G6:"G7",G7:"G8",G8:null,H1:"H2",H2:"H3",H3:"H4",H4:"H5",H5:"H6",H6:"H7",H7:"H8",H8:null},DOWN:{A1:null,A2:"A1",A3:"A2",A4:"A3",A5:"A4",A6:"A5",A7:"A6",A8:"A7",B1:null,B2:"B1",B3:"B2",B4:"B3",B5:"B4",B6:"B5",B7:"B6",B8:"B7",C1:null,C2:"C1",C3:"C2",C4:"C3",C5:"C4",C6:"C5",C7:"C6",C8:"C7",D1:null,D2:"D1",D3:"D2",D4:"D3",D5:"D4",D6:"D5",D7:"D6",D8:"D7",E1:null,E2:"E1",E3:"E2",E4:"E3",E5:"E4",E6:"E5",E7:"E6",E8:"E7",F1:null,F2:"F1",F3:"F2",F4:"F3",F5:"F4",F6:"F5",F7:"F6",F8:"F7",G1:null,G2:"G1",G3:"G2",G4:"G3",G5:"G4",G6:"G5",G7:"G6",G8:"G7",H1:null,H2:"H1",H3:"H2",H4:"H3",H5:"H4",H6:"H5",H7:"H6",H8:"H7"},LEFT:{A1:null,A2:null,A3:null,A4:null,A5:null,A6:null,A7:null,A8:null,B1:"A1",B2:"A2",B3:"A3",B4:"A4",B5:"A5",B6:"A6",B7:"A7",B8:"A8",C1:"B1",C2:"B2",C3:"B3",C4:"B4",C5:"B5",C6:"B6",C7:"B7",C8:"B8",D1:"C1",D2:"C2",D3:"C3",D4:"C4",D5:"C5",D6:"C6",D7:"C7",D8:"C8",E1:"D1",E2:"D2",E3:"D3",E4:"D4",E5:"D5",E6:"D6",E7:"D7",E8:"D8",F1:"E1",F2:"E2",F3:"E3",F4:"E4",F5:"E5",F6:"E6",F7:"E7",F8:"E8",G1:"F1",G2:"F2",G3:"F3",G4:"F4",G5:"F5",G6:"F6",G7:"F7",G8:"F8",H1:"G1",H2:"G2",H3:"G3",H4:"G4",H5:"G5",H6:"G6",H7:"G7",H8:"G8"},RIGHT:{A1:"B1",A2:"B2",A3:"B3",A4:"B4",A5:"B5",A6:"B6",A7:"B7",A8:"B8",B1:"C1",B2:"C2",B3:"C3",B4:"C4",B5:"C5",B6:"C6",B7:"C7",B8:"C8",C1:"D1",C2:"D2",C3:"D3",C4:"D4",C5:"D5",C6:"D6",C7:"D7",C8:"D8",D1:"E1",D2:"E2",D3:"E3",D4:"E4",D5:"E5",D6:"E6",D7:"E7",D8:"E8",E1:"F1",E2:"F2",E3:"F3",E4:"F4",E5:"F5",E6:"F6",E7:"F7",E8:"F8",F1:"G1",F2:"G2",F3:"G3",F4:"G4",F5:"G5",F6:"G6",F7:"G7",F8:"G8",G1:"H1",G2:"H2",G3:"H3",G4:"H4",G5:"H5",G6:"H6",G7:"H7",G8:"H8",H1:null,H2:null,H3:null,H4:null,H5:null,H6:null,H7:null,H8:null},UP_LEFT:{A1:null,A2:null,A3:null,A4:null,A5:null,A6:null,A7:null,A8:null,B1:"A2",B2:"A3",B3:"A4",B4:"A5",B5:"A6",B6:"A7",B7:"A8",B8:null,C1:"B2",C2:"B3",C3:"B4",C4:"B5",C5:"B6",C6:"B7",C7:"B8",C8:null,D1:"C2",D2:"C3",D3:"C4",D4:"C5",D5:"C6",D6:"C7",D7:"C8",D8:null,E1:"D2",E2:"D3",E3:"D4",E4:"D5",E5:"D6",E6:"D7",E7:"D8",E8:null,F1:"E2",F2:"E3",F3:"E4",F4:"E5",F5:"E6",F6:"E7",F7:"E8",F8:null,G1:"F2",G2:"F3",G3:"F4",G4:"F5",G5:"F6",G6:"F7",G7:"F8",G8:null,H1:"G2",H2:"G3",H3:"G4",H4:"G5",H5:"G6",H6:"G7",H7:"G8",H8:null},DOWN_RIGHT:{A1:null,A2:"B1",A3:"B2",A4:"B3",A5:"B4",A6:"B5",A7:"B6",A8:"B7",B1:null,B2:"C1",B3:"C2",B4:"C3",B5:"C4",B6:"C5",B7:"C6",B8:"C7",C1:null,C2:"D1",C3:"D2",C4:"D3",C5:"D4",C6:"D5",C7:"D6",C8:"D7",D1:null,D2:"E1",D3:"E2",D4:"E3",D5:"E4",D6:"E5",D7:"E6",D8:"E7",E1:null,E2:"F1",E3:"F2",E4:"F3",E5:"F4",E6:"F5",E7:"F6",E8:"F7",F1:null,F2:"G1",F3:"G2",F4:"G3",F5:"G4",F6:"G5",F7:"G6",F8:"G7",G1:null,G2:"H1",G3:"H2",G4:"H3",G5:"H4",G6:"H5",G7:"H6",G8:"H7",H1:null,H2:null,H3:null,H4:null,H5:null,H6:null,H7:null,H8:null},UP_RIGHT:{A1:"B2",A2:"B3",A3:"B4",A4:"B5",A5:"B6",A6:"B7",A7:"B8",A8:null,B1:"C2",B2:"C3",B3:"C4",B4:"C5",B5:"C6",B6:"C7",B7:"C8",B8:null,C1:"D2",C2:"D3",C3:"D4",C4:"D5",C5:"D6",C6:"D7",C7:"D8",C8:null,D1:"E2",D2:"E3",D3:"E4",D4:"E5",D5:"E6",D6:"E7",D7:"E8",D8:null,E1:"F2",E2:"F3",E3:"F4",E4:"F5",E5:"F6",E6:"F7",E7:"F8",E8:null,F1:"G2",F2:"G3",F3:"G4",F4:"G5",F5:"G6",F6:"G7",F7:"G8",F8:null,G1:"H2",G2:"H3",G3:"H4",G4:"H5",G5:"H6",G6:"H7",G7:"H8",G8:null,H1:null,H2:null,H3:null,H4:null,H5:null,H6:null,H7:null,H8:null},DOWN_LEFT:{A1:null,A2:null,A3:null,A4:null,A5:null,A6:null,A7:null,A8:null,B1:null,B2:"A1",B3:"A2",B4:"A3",B5:"A4",B6:"A5",B7:"A6",B8:"A7",C1:null,C2:"B1",C3:"B2",C4:"B3",C5:"B4",C6:"B5",C7:"B6",C8:"B7",D1:null,D2:"C1",D3:"C2",D4:"C3",D5:"C4",D6:"C5",D7:"C6",D8:"C7",E1:null,E2:"D1",E3:"D2",E4:"D3",E5:"D4",E6:"D5",E7:"D6",E8:"D7",F1:null,F2:"E1",F3:"E2",F4:"E3",F5:"E4",F6:"E5",F7:"E6",F8:"E7",G1:null,G2:"F1",G3:"F2",G4:"F3",G5:"F4",G6:"F5",G7:"F6",G8:"F7",H1:null,H2:"G1",H3:"G2",H4:"G3",H5:"G4",H6:"G5",H7:"G6",H8:"G7"}},Q=[[0,0,0,0,0,0,0,0],[5,5,5,5,5,5,5,5],[1,1,2,3,3,2,1,1],[.5,.5,1,2.5,2.5,1,.5,.5],[0,0,0,2,2,0,0,0],[.5,0,1,0,0,1,0,.5],[.5,0,0,-2,-2,0,0,.5],[0,0,0,0,0,0,0,0]],M=[[-4,-3,-2,-2,-2,-2,-3,-4],[-3,-2,0,0,0,0,-2,-3],[-2,0,1,1.5,1.5,1,0,-2],[-2,.5,1.5,2,2,1.5,.5,-2],[-2,0,1.5,2,2,1.5,0,-2],[-2,.5,1,1.5,1.5,1,.5,-2],[-3,-2,0,.5,.5,0,-2,-3],[-4,-3,-2,-2,-2,-2,-3,-4]],S=[[-2,-1,-1,-1,-1,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,1,1,.5,0,-1],[-1,.5,.5,1,1,.5,.5,-1],[-1,0,1,1,1,1,0,-1],[-1,1,1,1,1,1,1,-1],[-1,.5,0,0,0,0,.5,-1],[-2,-1,-1,-1,-1,-1,-1,-2]],L=[[0,0,0,0,0,0,0,0],[.5,1,1,1,1,1,1,.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[0,0,0,.5,.5,0,0,0]],x=[[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-2,-3,-3,-4,-4,-3,-3,-2],[-1,-2,-2,-2,-2,-2,-2,-1],[2,2,0,0,0,0,2,2],[2,3,1,0,0,1,3,2]],ie=[[-2,-1,-1,-.5,-.5,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,.5,.5,.5,0,-1],[-.5,0,.5,.5,.5,.5,0,-.5],[0,0,.5,.5,.5,.5,0,-.5],[-1,.5,.5,.5,.5,.5,0,-1],[-1,0,.5,0,0,0,0,-1],[-2,-1,-1,-.5,-.5,-1,-1,-2]],ne={P:Q.slice().reverse(),p:Q,N:M.slice().reverse(),n:M,B:S.slice().reverse(),b:S,R:L.slice().reverse(),r:L,K:x.slice().reverse(),k:x,Q:ie.slice().reverse(),q:ie};function O(v){return D.UP[v]}function N(v){return D.DOWN[v]}function T(v){return D.LEFT[v]}function G(v){return D.RIGHT[v]}function Y(v){return D.UP_LEFT[v]}function z(v){return D.UP_RIGHT[v]}function K(v){return D.DOWN_LEFT[v]}function R(v){return D.DOWN_RIGHT[v]}function oe(v){const n=Y(v);return n?O(n):null}function ae(v){const n=Y(v);return n?T(n):null}function re(v){const n=z(v);return n?O(n):null}function le(v){const n=z(v);return n?G(n):null}function ce(v){const n=K(v);return n?N(n):null}function ge(v){const n=K(v);return n?T(n):null}function ue(v){const n=R(v);return n?N(n):null}function he(v){const n=R(v);return n?G(n):null}function fe(v,n){return n===l?D.UP[v]:D.DOWN[v]}function $(v,n){return n===l?D.UP_LEFT[v]:D.DOWN_RIGHT[v]}function ee(v,n){return n===l?D.UP_RIGHT[v]:D.DOWN_LEFT[v]}function de(v,n){return n===l?D.DOWN_LEFT[v]:D.UP_RIGHT[v]}function me(v,n){return n===l?D.DOWN_RIGHT[v]:D.UP_LEFT[v]}function J(v){return{k:10,q:9,r:5,b:3,n:3,p:1}[v.toLowerCase()]||0}function V(v){return typeof v=="string"&&v.match("^[a-hA-H]{1}[1-8]{1}$")}const te=-1e3,Ae=1e3;class _{constructor(n=JSON.parse(JSON.stringify(B))){if(typeof n=="object")this.configuration=Object.assign({},y,n);else{if(typeof n!="string")throw new Error(`Unknown configuration type ${typeof config}.`);this.configuration=Object.assign({},y,function(r=""){const[g,h,A,m,p,d]=r.split(" "),H={pieces:Object.fromEntries(g.split("/").flatMap((I,q)=>{let F=0;return I.split("").reduce((X,j)=>{const Be=j.match(/k|b|q|n|p|r/i);Be&&(X.push([`${o[F]}${a[7-q]}`,Be[0]]),F+=1);const ve=j.match(/[1-8]/);return ve&&(F+=Number(ve)),X},[])}))};return H.turn=h==="b"?u:l,H.castling={whiteLong:!1,whiteShort:!1,blackLong:!1,blackShort:!1},A.includes("K")&&(H.castling.whiteShort=!0),A.includes("k")&&(H.castling.blackShort=!0),A.includes("Q")&&(H.castling.whiteLong=!0),A.includes("q")&&(H.castling.blackLong=!0),V(m)&&(H.enPassant=m.toUpperCase()),H.halfMove=parseInt(p),H.fullMove=parseInt(d),H}(n))}this.configuration.castling||(this.configuration.castling={whiteShort:!0,blackShort:!0,whiteLong:!0,blackLong:!0}),this.history=[]}getAttackingFields(n=this.getPlayingColor()){let r=[];for(const g in this.configuration.pieces){const h=this.getPiece(g);this.getPieceColor(h)===n&&(r=[...r,...this.getPieceMoves(h,g)])}return r}isAttackingKing(n=this.getPlayingColor()){let r=null;for(const g in this.configuration.pieces){const h=this.getPiece(g);if(this.isKing(h)&&this.getPieceColor(h)!==n){r=g;break}}return this.isPieceUnderAttack(r)}isPieceUnderAttack(n){const r=this.getPieceOnLocationColor(n),g=this.getEnemyColor(r);let h=!1,A=n,m=0;for(;O(A)&&!h;){A=O(A),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isRook(d)||this.isQueen(d)||this.isKing(d)&&m===1)&&(h=!0),d)break}for(A=n,m=0;N(A)&&!h;){A=N(A),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isRook(d)||this.isQueen(d)||this.isKing(d)&&m===1)&&(h=!0),d)break}for(A=n,m=0;T(A)&&!h;){A=T(A),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isRook(d)||this.isQueen(d)||this.isKing(d)&&m===1)&&(h=!0),d)break}for(A=n,m=0;G(A)&&!h;){A=G(A),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isRook(d)||this.isQueen(d)||this.isKing(d)&&m===1)&&(h=!0),d)break}for(A=n,m=0;ee(A,r)&&!h;){A=ee(A,r),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isBishop(d)||this.isQueen(d)||m===1&&(this.isKing(d)||this.isPawn(d)))&&(h=!0),d)break}for(A=n,m=0;$(A,r)&&!h;){A=$(A,r),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isBishop(d)||this.isQueen(d)||m===1&&(this.isKing(d)||this.isPawn(d)))&&(h=!0),d)break}for(A=n,m=0;me(A,r)&&!h;){A=me(A,r),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isBishop(d)||this.isQueen(d)||this.isKing(d)&&m===1)&&(h=!0),d)break}for(A=n,m=0;de(A,r)&&!h;){A=de(A,r),m++;const d=this.getPiece(A);if(d&&this.getPieceColor(d)===g&&(this.isBishop(d)||this.isQueen(d)||this.isKing(d)&&m===1)&&(h=!0),d)break}A=re(n);let p=this.getPiece(A);return p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),A=le(n),p=this.getPiece(A),p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),A=ae(n),p=this.getPiece(A),p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),A=oe(n),p=this.getPiece(A),p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),A=ce(n),p=this.getPiece(A),p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),A=ge(n),p=this.getPiece(A),p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),A=ue(n),p=this.getPiece(A),p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),A=he(n),p=this.getPiece(A),p&&this.getPieceColor(p)===g&&this.isKnight(p)&&(h=!0),h}hasPlayingPlayerCheck(){return this.isAttackingKing(this.getNonPlayingColor())}hasNonPlayingPlayerCheck(){return this.isAttackingKing(this.getPlayingColor())}getLowestValuePieceAttackingLocation(n,r=this.getPlayingColor()){let g=null;for(const h in this.configuration.pieces){const A=this.getPiece(h);this.getPieceColor(A)===r&&this.getPieceMoves(A,h).map(m=>{m===n&&(g===null||J(A)<g)&&(g=J(A))})}return g}getMoves(n=this.getPlayingColor(),r=null){const g={};let h=0;for(const p in this.configuration.pieces){const d=this.getPiece(p);if(this.getPieceColor(d)===n){const H=this.getPieceMoves(d,p);H.length&&h++,Object.assign(g,{[p]:H})}}const A=this.getAttackingFields(this.getNonPlayingColor());if(this.isLeftCastlingPossible(A)&&(this.isPlayingWhite()&&g.E1.push("C1"),this.isPlayingBlack()&&g.E8.push("C8")),this.isRightCastlingPossible(A)&&(this.isPlayingWhite()&&g.E1.push("G1"),this.isPlayingBlack()&&g.E8.push("G8")),r&&h>r)return g;const m={};for(const p in g)g[p].map(d=>{const H={pieces:Object.assign({},this.configuration.pieces),castling:Object.assign({},this.configuration.castling)},I=new _(H);I.move(p,d),(this.isPlayingWhite()&&!I.isAttackingKing(u)||this.isPlayingBlack()&&!I.isAttackingKing(l))&&(m[p]||(m[p]=[]),m[p].push(d))});return Object.keys(m).length||(this.configuration.isFinished=!0,this.hasPlayingPlayerCheck()&&(this.configuration.checkMate=!0)),m}isLeftCastlingPossible(n){if(this.isPlayingWhite()&&!this.configuration.castling.whiteLong||this.isPlayingBlack()&&!this.configuration.castling.blackLong)return!1;let r=null;if(this.isPlayingWhite()&&this.getPiece("E1")==="K"&&this.getPiece("A1")==="R"&&!n.includes("E1")?r="E1":this.isPlayingBlack()&&this.getPiece("E8")==="k"&&this.getPiece("A8")==="r"&&!n.includes("E8")&&(r="E8"),!r)return!1;let g=T(r);return!this.getPiece(g)&&!n.includes(g)&&(g=T(g),!this.getPiece(g)&&!n.includes(g)&&(g=T(g),!this.getPiece(g)))}isRightCastlingPossible(n){if(this.isPlayingWhite()&&!this.configuration.castling.whiteShort||this.isPlayingBlack()&&!this.configuration.castling.blackShort)return!1;let r=null;if(this.isPlayingWhite()&&this.getPiece("E1")==="K"&&this.getPiece("H1")==="R"&&!n.includes("E1")?r="E1":this.isPlayingBlack()&&this.getPiece("E8")==="k"&&this.getPiece("H8")==="r"&&!n.includes("E8")&&(r="E8"),!r)return!1;let g=G(r);return!this.getPiece(g)&&!n.includes(g)&&(g=G(g),!this.getPiece(g)&&!n.includes(g))}getPieceMoves(n,r){return this.isPawn(n)?this.getPawnMoves(n,r):this.isKnight(n)?this.getKnightMoves(n,r):this.isRook(n)?this.getRookMoves(n,r):this.isBishop(n)?this.getBishopMoves(n,r):this.isQueen(n)?this.getQueenMoves(n,r):this.isKing(n)?this.getKingMoves(n,r):[]}isPawn(n){return n.toUpperCase()==="P"}isKnight(n){return n.toUpperCase()==="N"}isRook(n){return n.toUpperCase()==="R"}isBishop(n){return n.toUpperCase()==="B"}isQueen(n){return n.toUpperCase()==="Q"}isKing(n){return n.toUpperCase()==="K"}getPawnMoves(n,r){const g=[],h=this.getPieceColor(n);let A=fe(r,h);return A&&!this.getPiece(A)&&(g.push(A),A=fe(A,h),function(m,p){return m===l&&p[1]==="2"||m===u&&p[1]==="7"}(h,r)&&A&&!this.getPiece(A)&&g.push(A)),A=$(r,h),A&&(this.getPiece(A)&&this.getPieceOnLocationColor(A)!==h||A===this.configuration.enPassant)&&g.push(A),A=ee(r,h),A&&(this.getPiece(A)&&this.getPieceOnLocationColor(A)!==h||A===this.configuration.enPassant)&&g.push(A),g}getKnightMoves(n,r){const g=[],h=this.getPieceColor(n);let A=re(r);return A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=le(r),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=oe(r),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=ae(r),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=ge(r),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=ce(r),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=he(r),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=ue(r),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),g}getRookMoves(n,r){const g=[],h=this.getPieceColor(n);let A=r;for(;O(A);){A=O(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}for(A=r;N(A);){A=N(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}for(A=r;G(A);){A=G(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}for(A=r;T(A);){A=T(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}return g}getBishopMoves(n,r){const g=[],h=this.getPieceColor(n);let A=r;for(;Y(A);){A=Y(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}for(A=r;z(A);){A=z(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}for(A=r;K(A);){A=K(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}for(A=r;R(A);){A=R(A);const m=this.getPieceOnLocationColor(A);if(this.getPieceOnLocationColor(A)!==h&&g.push(A),m)break}return g}getQueenMoves(n,r){return[...this.getRookMoves(n,r),...this.getBishopMoves(n,r)]}getKingMoves(n,r){const g=[],h=this.getPieceColor(n);let A=r;return A=O(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=r,A=G(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=r,A=N(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=r,A=T(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=r,A=Y(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=r,A=z(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=r,A=K(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),A=r,A=R(A),A&&this.getPieceOnLocationColor(A)!==h&&g.push(A),g}getPieceColor(n){return n.toUpperCase()===n?l:u}getPieceOnLocationColor(n){const r=this.getPiece(n);return r?r.toUpperCase()===r?l:u:null}getPiece(n){return this.configuration.pieces[n]}setPiece(n,r){if(!function(g){return Object.values(c).includes(g)}(r))throw new Error("Invalid piece "+r);if(!V(n))throw new Error("Invalid location "+n);this.configuration.pieces[n.toUpperCase()]=r}removePiece(n){if(!V(n))throw new Error("Invalid location "+n);delete this.configuration.pieces[n.toUpperCase()]}isEmpty(n){if(!V(n))throw new Error("Invalid location "+n);return!this.configuration.pieces[n.toUpperCase()]}getEnemyColor(n){return n===l?u:l}getPlayingColor(){return this.configuration.turn}getNonPlayingColor(){return this.isPlayingWhite()?u:l}isPlayingWhite(){return this.configuration.turn===l}isPlayingBlack(){return this.configuration.turn===u}addMoveToHistory(n,r){this.history.push({from:n,to:r,configuration:JSON.parse(JSON.stringify(this.configuration))})}move(n,r){const g=this.getPiece(n),h=this.getPiece(r);if(!g)throw new Error("There is no piece at "+n);var A,m;if(Object.assign(this.configuration.pieces,{[r]:g}),delete this.configuration.pieces[n],this.isPlayingWhite()&&this.isPawn(g)&&r[1]==="8"&&Object.assign(this.configuration.pieces,{[r]:"Q"}),this.isPlayingBlack()&&this.isPawn(g)&&r[1]==="1"&&Object.assign(this.configuration.pieces,{[r]:"q"}),this.isPawn(g)&&r===this.configuration.enPassant&&delete this.configuration.pieces[A=r,m=this.getPlayingColor(),m===l?D.DOWN[A]:D.UP[A]],this.isPawn(g)&&this.isPlayingWhite()&&n[1]==="2"&&r[1]==="4"?this.configuration.enPassant=n[0]+"3":this.isPawn(g)&&this.isPlayingBlack()&&n[1]==="7"&&r[1]==="5"?this.configuration.enPassant=n[0]+"6":this.configuration.enPassant=null,n==="E1"&&Object.assign(this.configuration.castling,{whiteLong:!1,whiteShort:!1}),n==="E8"&&Object.assign(this.configuration.castling,{blackLong:!1,blackShort:!1}),n==="A1"&&Object.assign(this.configuration.castling,{whiteLong:!1}),n==="H1"&&Object.assign(this.configuration.castling,{whiteShort:!1}),n==="A8"&&Object.assign(this.configuration.castling,{blackLong:!1}),n==="H8"&&Object.assign(this.configuration.castling,{blackShort:!1}),this.isKing(g)){if(n==="E1"&&r==="C1")return this.move("A1","D1");if(n==="E8"&&r==="C8")return this.move("A8","D8");if(n==="E1"&&r==="G1")return this.move("H1","F1");if(n==="E8"&&r==="G8")return this.move("H8","F8")}this.configuration.turn=this.isPlayingWhite()?u:l,this.isPlayingWhite()&&this.configuration.fullMove++,this.configuration.halfMove++,(h||this.isPawn(g))&&(this.configuration.halfMove=0)}exportJson(){return{moves:this.getMoves(),pieces:this.configuration.pieces,turn:this.configuration.turn,isFinished:this.configuration.isFinished,check:this.hasPlayingPlayerCheck(),checkMate:this.configuration.checkMate,castling:this.configuration.castling,enPassant:this.configuration.enPassant,halfMove:this.configuration.halfMove,fullMove:this.configuration.fullMove}}calculateAiMove(n){return this.calculateAiMoves(n)[0]}calculateAiMoves(n){if(n=parseInt(n),!f.includes(n))throw new Error(`Invalid level ${n}. You can choose ${f.join(",")}`);this.shouldIncreaseLevel()&&n++;const r=[],g=this.calculateScore(this.getPlayingColor()),h=this.getMoves();for(const A in h)h[A].map(m=>{const p=this.getTestBoard(),d=!!p.getPiece(m);p.move(A,m),r.push({from:A,to:m,score:p.testMoveScores(this.getPlayingColor(),n,d,d?p.calculateScore(this.getPlayingColor()):g,m).score+p.calculateScoreByPiecesLocation(this.getPlayingColor())+Math.floor(Math.random()*(this.configuration.halfMove>10?this.configuration.halfMove-10:1)*10)/10})});return r.sort((A,m)=>A.score<m.score?1:A.score>m.score?-1:0),r}shouldIncreaseLevel(){return this.getIngamePiecesValue()<50}getIngamePiecesValue(){let n=0;for(const r in this.configuration.pieces)n+=J(this.getPiece(r));return n}getTestBoard(){const n={pieces:Object.assign({},this.configuration.pieces),castling:Object.assign({},this.configuration.castling),turn:this.configuration.turn,enPassant:this.configuration.enPassant};return new _(n)}testMoveScores(n,r,g,h,A,m=1){let p=null;if(m<C[r]&&this.hasPlayingPlayerCheck()?p=this.getMoves(this.getPlayingColor()):(m<w[r]||g&&m<C[r])&&(p=this.getMoves(this.getPlayingColor(),5)),this.configuration.isFinished)return{score:this.calculateScore(n)+(this.getPlayingColor()===n?m:-m),max:!0};if(!p)return h!==null?{score:h,max:!1}:{score:this.calculateScore(n),max:!1};let d=this.getPlayingColor()===n?te:Ae,H=!1;for(const I in p)H||p[I].map(q=>{if(H)return;const F=this.getTestBoard(),X=!!F.getPiece(q);if(F.move(I,q),F.hasNonPlayingPlayerCheck())return;const j=F.testMoveScores(n,r,X,X?F.calculateScore(n):h,q,m+1);j.max&&(H=!0),d=this.getPlayingColor()===n?Math.max(d,j.score):Math.min(d,j.score)});return{score:d,max:!1}}calculateScoreByPiecesLocation(n=this.getPlayingColor()){const r={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7};let g=0;for(const h in this.configuration.pieces){const A=this.getPiece(h);if(ne[A]){const m=ne[A][h[1]-1][r[h[0]]];g+=.5*(this.getPieceColor(A)===n?m:-m)}}return g}calculateScore(n=this.getPlayingColor()){let r=0;if(this.configuration.checkMate)return this.getPlayingColor()===n?te:Ae;if(this.configuration.isFinished)return this.getPlayingColor()===n?Ae:te;for(const g in this.configuration.pieces){const h=this.getPiece(g);this.getPieceColor(h)===n?r+=10*J(h):r-=10*J(h)}return r}}class U{constructor(n){this.board=new _(n)}move(n,r){n=n.toUpperCase(),r=r.toUpperCase();const g=this.board.getMoves();if(!g[n]||!g[n].includes(r))throw new Error(`Invalid move from ${n} to ${r} for ${this.board.getPlayingColor()}`);return this.board.addMoveToHistory(n,r),this.board.move(n,r),{[n]:r}}moves(n=null){return(n?this.board.getMoves()[n.toUpperCase()]:this.board.getMoves())||[]}setPiece(n,r){this.board.setPiece(n,r)}removePiece(n){this.board.removePiece(n)}aiMove(n=2){const r=this.board.calculateAiMove(n);return this.move(r.from,r.to)}getHistory(n=!1){return n?this.board.history.reverse():this.board.history}printToConsole(){(function(n){process.stdout.write(`
`);let r=l;Object.assign([],a).reverse().map(g=>{process.stdout.write(""+g),o.map(h=>{switch(n.pieces[`${h}${g}`]){case"K":process.stdout.write("♚");break;case"Q":process.stdout.write("♛");break;case"R":process.stdout.write("♜");break;case"B":process.stdout.write("♝");break;case"N":process.stdout.write("♞");break;case"P":process.stdout.write("♟");break;case"k":process.stdout.write("♔");break;case"q":process.stdout.write("♕");break;case"r":process.stdout.write("♖");break;case"b":process.stdout.write("♗");break;case"n":process.stdout.write("♘");break;case"p":process.stdout.write("♙");break;default:process.stdout.write(r===l?"█":"░")}r=r===l?u:l}),r=r===l?u:l,process.stdout.write(`
`)}),process.stdout.write(" "),o.map(g=>{process.stdout.write(""+g)}),process.stdout.write(`
`)})(this.board.configuration)}exportJson(){return this.board.exportJson()}exportFEN(){return function(n){let r="";Object.assign([],a).reverse().map(p=>{let d=0;p<8&&(r+="/"),o.map(H=>{const I=n.pieces[`${H}${p}`];I?(d&&(r+=d.toString(),d=0),r+=I):d++}),r+=""+(d||"")}),r+=n.turn===l?" w ":" b ";const{whiteShort:g,whiteLong:h,blackLong:A,blackShort:m}=n.castling;return h||g||A||m?(g&&(r+="K"),h&&(r+="Q"),m&&(r+="k"),A&&(r+="q")):r+="-",r+=" "+(n.enPassant?n.enPassant.toLowerCase():"-"),r+=" "+n.halfMove,r+=" "+n.fullMove,r}(this.board.configuration)}}function De(v){if(!v)throw new Error("Configuration param required.");return new U(v).moves()}function ye(v){if(!v)throw new Error("Configuration param required.");return new U(v).exportJson()}function be(v){if(!v)throw new Error("Configuration param required.");return new U(v).exportFEN()}function Qe(v,n,r){if(!v)throw new Error("Configuration param required.");const g=new U(v);return g.move(n,r),typeof v=="object"?g.exportJson():g.exportFEN()}function He(v,n=2){if(!v)throw new Error("Configuration param required.");const r=new U(v).board.calculateAiMove(n);return{[r.from]:r.to}}}])})})(pe);var Ee=pe.exports;const xe=Le(Ee),Oe=ke({__proto__:null,default:xe},[Ee]),Ne={move_1:"data:audio/wav;base64,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",move_2:"data:audio/wav;base64,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",move_3:"data:audio/wav;base64,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",move_4:"data:audio/wav;base64,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",move_5:"data:audio/wav;base64,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",quick_1:"data:audio/wav;base64,UklGRpwKAABXQVZFZm10IBAAAAABAAEAIlYAAESsAAACABAATElTVBoAAABJTkZPSVNGVA0AAABMYXZmNjIuMy4xMDAAAGRhdGFWCgAAC+5+6OLh49o/1hfTJdM116HgZu9SA/4Yjy8SRlBYXmjOdaZ+/38VfHRrD1KkMvsQju4pzMKv2ZhViI2AGYHNiz+cqbB7xena0vHBBiUYpiY/MEw0GjPDLCgkLRwWFLcKQADt9fju9ekj6Q7qzOsO8HL2Tf5HB6EP4RUFGjwbZhqgF7QSnQtUBN37sPM664rkQN8n2zXYd9Yt11rZtt2C4xbqc/G4+CIAqwY6DIgQxhOFFt8Y4ho+HF8dah5UH7QgkCKkJCIndilvK6crjSojJrEeWRTYB0T5nOmH3GLRe8lGxYnFysmv0d/aIOU474n5XwNmCy4RGRUeGJAZHhojGXoWzREeDZcGngDq+QL0Qu9m7Ofq9err6x3u4PGg9kv8iAFBBsMJuAv+DPUMnAtRCqIH4QTPATv+KfrR9qv0G/Pg8eHxovJK9PP1cveN+Pn5f/uV/cT/dQHOAxgGvgeeCH8JNgmsCM8HTAftBu4GdQb+Bo8HCgiMBw4HFgbGBGMEnAKbAa0AQACA/xP/cv6s/kf+Tf5t/R39ovwT/aH99v2I/gL/4//WAEsBjQHTAdIAjQDD/xn/cP2b/Jz7SfsJ+8/6g/qg+5f8k/1d/qH+//6U/9H/Zf9H/1f/fP/A/zIAoP/B/7D/nwDrAJQBkwHDASgCSQLjARoB4P/u/oH+p/27/MD7xvup+z38o/w1/dX9c/8nAccCpwPnBPYFGAf2BzkI4QdNB0sHiwZwBbQDHwKcAKz/f/6T/a38d/x4/AP9OP2Y/WX+L/+1/2sArwDdAGQBDgIwAuAByAGKAccBAQIOAsgBuAHBAf4BxgE1AXoA9f9D/4f+gP1a/AH7aPq3+ej43/dn9x73Wfe09wr4V/jW+Af6TPtb/DH9TP4w/2kAbwFZAp4CJAN4A+0D2wPcA7gD8gPgA9YDvQN4A1kDdAOwAz0DFAOJAlIC6AG4AbsA7P/4/qH+VP4Z/uD94f1t/gT/AACrAI0BQgK8A78E6wVLBsAGvAYDB7IG6AW1BG4DWwJjAXQAUv+U/uT96v0D/jL+K/5g/nX+1f4S/yz/Bf9H/1z/ff/0/qb+Dv66/S/9r/zf+1H79/rw+vj6Gft0+7X7cfwo/fz9Pv7//l//EwBPAJQAdgCFADQAKQC1/yD/o/4R/s39kv1b/TH9O/1b/e/9Qf7F/j//8P+TADsBpAEnApMCxQIRA1oDhwPMA+gDFARIBHQEowTiBPwEEQUPBe4ExASABP4DSAOUAs4B8AD7/z//OP6z/c38dfwK/Ab8CPxZ/Lr8NP2+/Tv+7P5g/+r/FABSACMAUADn/83/cv90/zP/Kv8N/w//P/97/7b/2v8oAEMAUQBGAE8AKwD9/8v/s/+H/5r/of/a/xAAGgBRAKAArwDxABwBKgEzASIBpgAvAK7/Fv+N/uf9f/35/K38a/xo/HX8n/wQ/aD9fv5P/10AWQFHAhYDDQSMBAwFKgUyBb8ESAS9A/wCIwJAAYMAx/8w/5r+JP6Y/Yf9cf2W/bj9Bv5A/pT+xv71/u/+8f4S/0z/c/94/2b/hP+x/7r/pv+k/9P/9P8AAPT/zP/S//j/GwA0AHUAswAhAZ0BAAJhAqgCFgNyA84DygO1A24DWwP5An8CpAHcAB4AfP+x/rD9Av1A/AH8z/um+337l/vR+3H8/fyZ/Q/+j/5j/yMAxgAYAXMBnAHJAZUBUAHYAI8AHADd/4b/Of8o/wz/Tf+k/+v/dQASAckBfgLOAvwC3gLdAqECOAKJAQ4BfQACAHb/3v44/tX9j/1B/er8nPyh/LP89PwX/UX9f/0G/pX+G/+S/xEAywB6ARUCYwKWAtkCRAOCA5ADXwMaA+ICZgLOAQkBIgB0//j+Zv7o/Vz9Df0b/SH9Ov1J/Zr9Af6O/vj+Uv+k/xEAnADNAOoA1AD4AOYAAwGnAG0AQAAnAB8AEQDq/+r/JgC9AGAB3wF7At4CdwPJA+EDmANUA/4CsQIsAsQBMgHPAGoACACc/wv/iv4Y/un9j/05/fX80/y6/OP86/wN/Wj90P0n/qX+Hf9i//X/agDhAFkB4wEoAocC1gINAwkD2gJaArMBKwFsAKf/t/7l/fv8VPzM+0X76PrN+tD6D/tu+9v7ZPws/Rz+0/5r/xEAiQAVAW8BlAGlAXgBZQFXASkB8ACoAIAAtADMAP8AQAGBAdgBSAKVAtgCFAMcA0YDLgPoAo8CVQIEAsQBYgH1AK8AYwA4AML/gP8//xX/Af/g/qb+rP7K/uP+9P79/jL/Yv+g/7z/3v/y/xMAOwCSAM4A3AAAAR8BWQGUAYUBewFxAV4BbQFXARcB4wDTALsA0ACiAGoAYQAcAND/k/8u/7z+Tv4K/r39af0i/ez8/fz+/Az9OP1v/dX9Qf5Z/oz+sv7j/j//lf/W//f/IwBwAKwAvgCvAIkAZwBVACIA9P/H/5j/gP9z/1f/U/+J/6//3//t/wAABwANAAwAAQDZ/73/uf+1/7v/rP+4/7T/5f8FABkATwCIALsA/QBVAZEBxAHZAfkBNwJlAnACjQKKAoUCiQKVArkCuwLFAsUCjgJQAhACtwFcAfoAdAD0/37/5/5v/i/+/f3s/Rb+Rv6d/sb+3f76/gP/Bf/z/t7+nv5A/iL+Av7P/ZX9ev2s/eD9Gv4q/lb+h/7O/lv/1v9TAPgAbQHOAe0BDQImAiUCDQLSAWwBAQGJABEAqv9Z/xb/sv6T/nv+bP5l/nz+gv7P/u7+QP+g/wgApgAbAXoBqgHYAfQBGAINAsoBaAEHAaYAXAAfABMAEgAGACkAVQCQAIgAqADIAL8AmgAxAND/Zv8j/9r+mf4//t392f3Q/d39DP4B/lf+d/6b/sj+1P74/gr/Fv8h/zP/Nv9V/3T/kP+x/9r/DgA7AGIAjgDNAOMACQE4AUwBWQEyATEBNQEKARUBGgEQAVMBbwGhAaIBsAHAAbsBuAGSAW8BcwFGAToBLgEkAVQBZgGHAakB1gHlAf4B5wHaAdABxgGxAXEBIwHUAIgAMQDI/1n/+v7B/pb+Sv7+/b79df0s/ej80fyi/Ir8e/x1/Ir8h/yE/Ib8k/yp/Kr8xPzs/AT9Yv3L/SX+vP5h/8v/YgDOADIBlwHQAQ4CBgLmAeABuQGcAYABXwEqAfgAwAB8AGEAIQD9/9z/uf+3/67/z//2/z0AnQD1AHUB8wFcArUC9QIDAxUD3gKjAnECPwI3AhgCAALMAZwBYQERAboAQgDN/2//Cv+V/kj+Bf65/Yj9Rv0q/Rn9Gv0u/WP9tv3q/UL+ZP6j/v7+Nv9p/4z/yv///zcARABxALkA/QBEAZ4B8QEXAlwChgKRAqMCgQJJAvgBkQE/AdcAiwBPABQA4v/N/6//h/9w/yj/6v6h/kP+9P2d/Wb9M/0O/TL9bf3B/RD+ev72/l3/zP8eAIsA6QAzAUsBPgFGATEBBwHcAJwAbQA6APb/mP86/wz/3f7a/tb+z/7P/un+Hv9m/7X/4P8OAF8AlgCkAMgA1wDUALMAjwCOAH8A",quick_2:"data:audio/wav;base64,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",pop_check:"data:audio/wav;base64,UklGRg4OAABXQVZFZm10IBAAAAABAAEAIlYAAESsAAACABAATElTVBoAAABJTkZPSVNGVA0AAABMYXZmNjIuMy4xMDAAAGRhdGHIDQAA+v/v//j//v8BAA4AFgAIAAwAFgAkABkAIgAqABsAGgAoACEAHQAjAAwABQAdABEAAAAIAPb/5f/z/+3/8f/5/+//9v/+/+v/8/8BAOr/8//r/+L/9f/y/+P/9//3/9b/6/8NABsAJAAfAP7/FgAeAA4AGgAeAB4AFgAPAPv/AAD9//f/BAAMAP7/GgASAPb/FgAXABAACAADAP7/CQAIAAMAAgADAP7/EAAMAPH/+v/9/wQA9//w/+//6v/p/93/4P/r/+b/3//d/+L/AQD0//j/CgD2//T/AwALAAYABgDy//f/7P/c/+L/9//l/+X/2v/N/9z/1P/Z/+n/4v/Z//D/8P/o//L//f/1//P///8EAAkACAD//wQAEQAMAAkAEgAVAC8ALAAbABgAKQA7ADYAHgAZAB8ADgABAAsAEwAVABUA+v///xUACQARAAMA9f/8/xAAAQD3/wYAGQAVACQAEAD6/x8AGgAZABAAEQAQACAABQD7/wYAAwDx//v/5//e//T/2f/h//H/9//5/+7/7/8DAAEA+/8BAAIA+f/6/xQAAgD4//T/9f/8//v//P/7//7////4//X/7v/i/+b/8P/3/+3/7P/z//j//P8DAAgAEgD///7/CQADAPD//P///xIAFAACAPn/BAD7////DgAHAAQADgAHAP3/GgANAAMACgAAAAYAEAAFAA8AHQAQAA8ACwAFAAUAGAAYAAkADQD3/wMAFAD7/+7/7//k//X/9P/q/+n/+f/x/+n/+f/r/+j/5//V/+X/5v/d/+T/6f/v//j/5f/s//3/AAAJACAAHwAKABAAFQALABYAHgALAAMA+P8FAPD/9f/1/wAAHAASAAcADwAJAAQAGgAKAAAABwAEAP3/EgAFAPP/+f/4/wUAAgDz//P/9P/1/wAAAQDp/+L/4//a/9X/3f/a/9P/0v/U/+D/4//Y/+P/8P/k////AgDy/wEA/P/6/wAA7P/f/+j/6//u//b/9//n//T/AwD2/wAA/v/9/xEAAQANABUAAgAQABoAIQAZABsAEQAeACEADwAUACYAHQAaABkAIQArADAANAAlACYAGAASABMAEAABABgADgABABwACwANABcAGQAiACkADQAVABgACgAOABwAFgATAAsA/v///wMA9//u/wQA+v/u/+T/1v/Y/93/xv/P/87/tP/H/9D/0v/i/8//rv/I/87/2P/o/9X/y//V/+L/4v/u/+H/7v/6//j/5f/7/wsADwAeABUA/P/7/wwACgAgABgAEwArAC8AJQAzAEsAKwA3AC8AGgAtAB0ACgAFAAMAFgATAAwA+v8LABoAEAANABoAHAANABcAFwACAPT/7//6/woA/P8EAAQA/P8FABgACQAXACcAIwAmACIADwANABIAGgAbABMADQAHAPD/6v/l/9r/zv/O/9z/2v/Q/9j/xv/V/9b/6P////r//P8FAAQACwALAPr/EAAVABgAHAAlABwAFgAYABgAGAARABAABAD+////9P/z/9//5//v/+n/8P/v//b//P////z//P8CAAQACwD2/+7/+//9/xkAFQD6//f/CQAAAPf/8P/3/wgADADz//7/EwAFAPn/9f8AAPz/BQAAAAQABgAOAB0AKQAdABYAIgAOAP3//f/9/wUACgAQAPb/8//h//D/9v/1/+z/7f/x/+n///8DAPz/8//o//L//P/v/+r/6v8DABIAEgAKAAYAIAAiAAwADQARABMAGwAUABIAGQALAAwACgAUABgAFwAXABUAHAAfAB0AJwAZABYAGgARAPn/AAAHAPr/6f/x/+3/4//s/+3/6v/p//L/AgD8/9b/5P/0//z/BwD0/+j/7f/m/+D/0v/j/+3/5f/l/+L/5v/X/9b/1f/g/+f/4//n/+L/7v8IAPX//v8BAAQAGgAIAAEA8P8EAPz/DwAQAA0AGgAVACwAKwAqACMAMQA9ACcAHgAsACIAIwAiAB8AKwAuABYAEQAZAAwAGgAPAPn/CgD4/+X/+//7//P/9P/w//D/8v/o/+z/BwAFAPn/6//q/9r/6v/q/9X/6//l/+L/6f/m/9T/2v/Z/93/4f/s/9v/7v/x/+L/6f/c/9//5//x//j//v/r/9//6P/g//L/+f/z//b/3P/1/wEA7P8PABkAHAD6//3//f8CABIABAAQAAgADgAPAAsAEAAdACUAIwAXABkAEgATABUAEQAMABEAFQAKAAgA+//m//f/AQALAAIADQAUABEAEAD//wMABAD8//3/9P/w//n/6v/p//7/9P/7/wYAAQD3/wIA/P8FAAoACwAIAAQA+f///wQA9v/x/w0AFgAhAEAAMAAcABoABwDv/xoA9v/u//X/7f/y/+X/0//f/+//3v/Z/9z/yf/P/9H/0f/Z/9z/yv/Y/+b/4//r//v/4v/1//D/7v8NAAcAFQAmACMAGQAZABUACAAbACMAFAAeACYAJgAuADAAJAApACcAMAArABUACgARAAYACAANAP7/+f8KAAYA9/8GAAIA/f8YABgAEQAJAAYADAAFAP////8FAAcA9//8//v/AAAMAA4ACAD5/wQA///6////BgABAPz/AQD3//X/+f/y/+j/6f/1//v/9//2/+7/9v8FAAMABAAJAPv/CAD8//7/BgANAB0AEwAfABgAGwATABEAHAAcABkAHgAVAAcAHQAVAAoABgAIAPj/+v///+r/+v/9//7////7/wQACgAMAAAA9P/x//n/9//r/+j/9P/3/wEA+//s////6f/o//3/+v/4/xEADQAAAPz/AgABAPT//f///w4AGQATAA8ADgAAAA0AAwD7/wMAAAABAAEABgAFAAQA+v/2//P/AQDr//D/+f/y/wQA6//k//T/8v/4/+f/9//6//r////4/wIA9/8IAAgADAALABUAGgATABoA/v8EAPP/5v/2//L/8v8GAAQA7P/7/wUA//8HAAgAAAAIAP3/8f/7/wIACgADAO3//v/2//7/AgAMABQABwABAAgADwAHAPL/4v/z//f/9P/4/+7/+f/w/wEAAgDz//f/9f/0//D/6//h/9v/+P/5/+r/7f/9/+L/6P/m//D/CgANAAIADwAVAAUAAgAOAAIAAgAPAAsA/f/Z//T/8f8DABAABQD5//P/BgAmADIARgA7ACAA8v8HAAsANgAmAOb/9P/Z/xsAXAAQAEEADgD6////4v/q/97/1P/y/x8A5P+5/ykACQAQAGEAHQDS/wQAxP+a/+z/rP/B/+f/GADH/xkAKAAVAKYAEgBLAOf/Sv/d//X/8P+YAOf/X//R/1MAJQBxAC4Asf83AJf/8P9nADAA8v/u/23/Kf/Z/44ASgA6ADn/lv+P/5T/1wCUAMr/BgCd/w8A6gD6/2cAGAB0/3r/VgDF/3EAzgDU/ycAs/8bAFABngDb//v/Ef9b/93/wQBbAH//F/92/6v/sP8dAKYAn/9QABUAg/+QAEgAngC/AGv/5v41ANf/rv9IAGP/Of9cAIj/lQDpAG0A3wB5AN0ASABaAKn/nv+O/8z+o/8X/87+6/92ANX/UwG3AFj/cACHAbIApgCWAPT/e//J/7v/dP/A/3sAZABF/2v/Xv5V/vcAIgASAEsACP+dAGUAXAB1Af8AU/+Q//n+Kv4d/2//Ff+U/jIABAGt/6QBiAFTARUC2wBwAKT/c//h/qr+l/8+/9L9Jv84/+f/8AAO/1QAWwCcAW8BCgA1AYMApwBWAK7/VAC3AIYAMP8BAET/1v5qANX/lP+M//n/KgEPAcQAIP+9/9IA2f5//8b+Sv9OAN//NwANAc8AMAE4AO//MwGWAXL+CP8wAHP+mP4p/9n/PwACAb8AfP7J/p0AigAuAZ7/gP4K/939RAAN8m4S5jBH9S3YbaQWtowBCgJ465DLLe4UC2UYLEZYY/9//38kYkQ9fgxRA7f1TtfWwQaFXZI1lsmKOdYH/lXifQysRRc78iqjM4Q31jeSMqH66vJq4GS/Y80i4RTcRdWW4CTlSO8hAR38rxMXKQEYSyS/HxAJWhQREUL/OAiLBYD/QARNA0P0ZvJ5+P3xBfeVAWr8IP5rCu0FOgxxDi8ApQdWCdT+awHO/rrsXerK73bwIO+Y8pny8PmBABv/KQrODecG8AsZDccGrgpiDWoJ+AjZAY767ABTAb76EwCWAHj7AAD8AH788/8vAkcCOQliB0r/7wAV/337qwDv/wf8jfs4+sD6oP1d/B74av1w/pL4Xv1v/0H97wLdBSUELgWuAtsAnAKzAUb/rQAaAGn8GPty/TD85Pxe/hD+VAHuAen+awBiAfP+rgHgA4UB9gC7AIIAqQJ+/yL+nQLd/7D8rv4n/kX+WAF5AFAAowKwAUMBOQQsAXr/EQM1AHr+Vf/f/AT9CgAJ/0D/DgGw/6//ZgGMAH0AyQLcA1sCLwLGAccA6gHAACT/n/6E/AD82/xA/Hf8af3r/fT+qP8s/0sAlgEFAND/1wCfABsBhQGTAeABPgLHAS4BvABY/n797P63/v/+v/4e/uf/WQGeAFgAxQAVAC8BwAHM/2IBeAIYAn0DTQLUAPAAkP8R/sj+Uf/e/FX8y/19/Mb77/uQ/DD+Vf4y/+4BjALbAUMDhwTcA8ADKQTZA/MCiwG7AB0Aqf5a/nT/gP8C/77/WADI/2z/x/8kACIAdf+z/pb+"};window.jsChessEngine=Oe;class Ue{constructor(){this.engine=new window.jsChessEngine.Game,this.selectedSquare=null,this.possibleMoves=[],this.boardFlipped=!1,this.orientationMode="handoff",this.gameMode="human-vs-bot",this.humanColor="white",this.botDifficulty=1,this.allowUndo=!0,this.soundEnabled=!0,this.originalGameMode="human-vs-bot",this.modeSettings={"human-vs-bot":{originalHumanColor:"white",colorChangedMidGame:!1,originalBotDifficulty:1,difficultyChangedMidGame:!1},"human-vs-human":{}},this.board=this.engineStateToBoard(),this.currentPlayer="white",this.gameStatus="playing",this.stateHistory=[],this.currentStateIndex=0,this.isInUndoRedoState=!1,this.lastUndoWasBotMove=!1,this.botWasCancelled=!1,this.moveHistory=[];const e=this.engine.exportJson();this.stateHistory.push({engineState:JSON.parse(JSON.stringify(e)),move:null,notation:null,timestamp:Date.now()}),this.sounds=this.createSoundSystem(),this.checkDepth=0,this.checkOperations=0,this.maxCheckDepth=10,this.maxCheckOperations=1e3,this.isEndgameDetection=!1,this.castlingRights={white:{kingside:!0,queenside:!0},black:{kingside:!0,queenside:!0}},this.enPassantTarget=null}async makeMove(e,t,s,i){const o=this.coordsToSquare(e,t),a=this.coordsToSquare(s,i);try{const c=this.board[s][i],u=c!==null,l=this.board[e][t],f=this.engine.move(o,a);this.updateCachedState(),this.boardFlipped=this.determineOrientation();const w=this.updateGameStatus();if(w){const B=this.currentPlayer==="white"?"White":"Black"}const C=this.generateMoveNotation(e,t,s,i,l,c,this.gameStatus==="check",this.gameStatus==="checkmate"),y=this.generateMoveCommentary(e,t,s,i,l,c,null);return this.recordGameState({from:{row:e,col:t},to:{row:s,col:i},piece:l,captured:c,notation:C,commentary:y}),u?this.playSound("capture"):this.playSound("move"),this.gameStatus==="checkmate"?setTimeout(()=>this.playSound("checkmate"),u?100:0):this.gameStatus==="check"&&setTimeout(()=>this.playSound("check"),u?100:0),await this.autoSave(),{success:!0,enteredCheck:w}}catch{return{success:!1,enteredCheck:!1}}}getPossibleMoves(e,t){const s=this.coordsToSquare(e,t),i=this.engine.moves(s);return!i||i.length===0?[]:i.map(o=>{const a=this.squareToCoords(o);return{row:a.row,col:a.col}})}updateGameStatus(){const e=this.engine.exportJson(),t=this.gameStatus;return e.checkMate?this.gameStatus="checkmate":e.isFinished&&!e.checkMate?this.gameStatus="stalemate":e.check?this.gameStatus="check":this.gameStatus="playing",t!=="check"&&this.gameStatus==="check"}updateCachedState(){const e=this.engine.exportJson();this.board=this.engineStateToBoard(),this.currentPlayer,this.currentPlayer=e.turn,this.castlingRights={white:{kingside:e.castling.whiteShort,queenside:e.castling.whiteLong},black:{kingside:e.castling.blackShort,queenside:e.castling.blackLong}},this.enPassantTarget=e.enPassant}isBotTurn(){return this.gameMode==="human-vs-human"?!1:this.currentPlayer!==this.humanColor}async generateBotMove(){console.log("[generateBotMove] === ENTRY ==="),console.log("[generateBotMove] botWasCancelled:",this.botWasCancelled),console.log("[generateBotMove] botDifficulty:",this.botDifficulty);try{const e=this.board;if(this.botWasCancelled)return console.log("[generateBotMove] ❌ CANCELLED before calculation - botWasCancelled flag is true"),null;const t=this.engine.exportJson();console.log("[generateBotMove] Calling engine.aiMove() with difficulty:",this.botDifficulty);let s,i;if(this.botDifficulty===3){console.log("[generateBotMove] Using Web Worker for Asa (difficulty 3)");const{createCancellableBotMove:c}=await Ge(async()=>{const{createCancellableBotMove:u}=await import("./chess-worker-inline-D7p46XOe.js");return{createCancellableBotMove:u}},[],import.meta.url);try{this.currentBotWorker=c(t,3);const u=await this.currentBotWorker;if(this.botWasCancelled)return console.log("[generateBotMove] ❌ CANCELLED during worker calculation"),null;s=u.move,i=u.finalState,this.engine=new window.jsChessEngine.Game(i),console.log("[generateBotMove] Worker returned move:",s)}catch(u){if(u.message==="Bot calculation cancelled"||u.message==="Bot calculation timed out"||this.botWasCancelled)return console.log("[generateBotMove] Worker calculation cancelled or timed out:",u.message),null;throw u}finally{this.currentBotWorker=null}}else s=this.engine.aiMove(this.botDifficulty),console.log("[generateBotMove] aiMove returned:",s);if(this.botWasCancelled)return console.log("[generateBotMove] ❌ CANCELLED after calculation - restoring engine state"),this.engine=new window.jsChessEngine.Game(t),this.updateCachedState(),this.updateGameStatus(),null;const o=Object.entries(s||{});console.log("[generateBotMove] Extracted moves:",o),this.updateCachedState();const a=this.updateGameStatus();if(o&&o.length>0){const[c,u]=o[0],l=this.squareToCoords(c),f=this.squareToCoords(u),w=this.board[f.row][f.col],C=e[f.row][f.col],y=this.generateMoveNotation(l.row,l.col,f.row,f.col,w,C,this.gameStatus==="check",this.gameStatus==="checkmate"),B=this.generateMoveCommentary(l.row,l.col,f.row,f.col,w,C,null);return this.recordGameState({from:l,to:f,piece:w,captured:C,notation:y,commentary:B}),C?this.playSound("capture"):this.playSound("move"),this.gameStatus==="checkmate"?setTimeout(()=>this.playSound("checkmate"),C?100:0):this.gameStatus==="check"&&setTimeout(()=>this.playSound("check"),C?100:0),await this.autoSave(),console.log("[generateBotMove] ✅ SUCCESS - returning move"),{from:l,to:f,piece:w,enteredCheck:a}}else return console.log("[generateBotMove] ❌ No valid moves in aiMove result"),null}catch(e){console.error("[generateBotMove] ❌ ERROR:",e.message),console.error("[generateBotMove] Stack:",e.stack)}return null}async executeBotMove(){console.log(`
[executeBotMove] ===== ENTRY =====`),console.log("[executeBotMove] botWasCancelled:",this.botWasCancelled),console.log("[executeBotMove] _globalBotProcessing:",Z._globalBotProcessing),console.log("[executeBotMove] Stack trace:",new Error().stack.split(`
`).slice(1,4).join(`
`));const e=`DEBUG: botWasCancelled=${this.botWasCancelled}`;window.gameUI&&window.gameUI.showNotification(e,"info");const t=this.gameMode==="human-vs-bot",s=this.isBotTurn(),i=this.gameStatus==="playing"||this.gameStatus==="check",o=this.engine.exportJson().turn;if(console.log("[executeBotMove] Conditions Check:",{isHumanVsBot:t,isBotTurn:s,isValidStatus:i,gameMode:this.gameMode,currentPlayer:this.currentPlayer,humanColor:this.humanColor,gameStatus:this.gameStatus,engineTurn:o}),!t||!s||!i){console.log("[executeBotMove] ❌ CONDITIONS FAILED");const C={humanVsBot_fail:t?"OK":"Not human vs bot mode",botTurn_fail:s?"OK":`Not bot turn (${this.currentPlayer} === ${this.humanColor})`,validStatus_fail:i?"OK":`Invalid status (${this.gameStatus})`};return console.log("[executeBotMove] Failed because:",C),window.gameUI&&!s&&window.gameUI.showNotification("DEBUG: Bot skipped - not bot's turn","warning"),{success:!1,enteredCheck:!1}}console.log("[executeBotMove] ✅ Conditions passed, clearing botWasCancelled flag"),this.botWasCancelled=!1;const a=Date.now();console.log("[executeBotMove] Calling generateBotMove()...");const c=await this.generateBotMove();if(console.log("[executeBotMove] Bot move result:",c?"Move generated":"NULL - Move failed/cancelled"),!c)return console.log("[executeBotMove] ❌ NO BOT MOVE - returning failure"),console.log("[executeBotMove] botWasCancelled after generateBotMove:",this.botWasCancelled),{success:!1,enteredCheck:!1};const u=c.enteredCheck||!1,l=Date.now()-a,f=200+Math.random()*200,w=Math.max(0,f-l);return await new Promise(C=>setTimeout(C,w)),await this.autoSave(),{success:!0,enteredCheck:u}}recordGameState(e){this.currentStateIndex<this.stateHistory.length-1&&(this.stateHistory=this.stateHistory.slice(0,this.currentStateIndex+1)),this.isInUndoRedoState=!1;const t=100,s={engineState:null,move:{from:e.from,to:e.to,piece:e.piece,captured:e.captured},notation:e.notation,commentary:e.commentary,timestamp:Date.now()};this.stateHistory.push(s),this.currentStateIndex++,this.stateHistory.length>t&&(this.stateHistory.length-t,this.stateHistory=[this.stateHistory[0],...this.stateHistory.slice(-99)],this.currentStateIndex=this.stateHistory.length-1),this.moveHistory||(this.moveHistory=[]),this.moveHistory.push({from:e.from,to:e.to,piece:e.piece,captured:e.captured,notation:e.notation}),this.moveHistory.length>t-1&&(this.moveHistory=this.moveHistory.slice(-99)),this.autoSave().catch(i=>{})}coordsToSquare(e,t){const s=["A","B","C","D","E","F","G","H"],i=["8","7","6","5","4","3","2","1"];return s[t]+i[e]}squareToCoords(e){const t=["A","B","C","D","E","F","G","H"],s=["8","7","6","5","4","3","2","1"],i=e[0],o=e[1],a=t.indexOf(i);return{row:s.indexOf(o),col:a}}engineStateToBoard(){const e=this.engine.exportJson(),t=Array(8).fill(null).map(()=>Array(8).fill(null));for(const[s,i]of Object.entries(e.pieces)){const o=this.squareToCoords(s),a=this.parsePiece(i);a!==null&&(t[o.row][o.col]=a)}return t}parsePiece(e){if(typeof e!="string"||e.length!==1)return null;const t=e===e.toUpperCase(),i={K:"king",Q:"queen",R:"rook",B:"bishop",N:"knight",P:"pawn"}[e.toUpperCase()];return i?{type:i,color:t?"white":"black"}:null}newGame(){this.engine=new window.jsChessEngine.Game,this.selectedSquare=null,this.possibleMoves=[],this.moveHistory=[],this.currentMoveIndex=-1,this.initialEngineState=JSON.parse(JSON.stringify(this.engine.exportJson())),this.gameMode==="human-vs-bot"&&this.modeSettings["human-vs-bot"]&&(this.modeSettings["human-vs-bot"].colorChangedMidGame=!1,this.modeSettings["human-vs-bot"].difficultyChangedMidGame=!1,this.modeSettings["human-vs-bot"].originalHumanColor=this.humanColor,this.modeSettings["human-vs-bot"].originalBotDifficulty=this.botDifficulty),this.originalGameMode=this.gameMode,this.stateHistory=[],this.currentStateIndex=0,this.isInUndoRedoState=!1;const e=this.engine.exportJson();this.stateHistory.push({engineState:JSON.parse(JSON.stringify(e)),move:null,captured:null,notation:null,commentary:null}),this.updateCachedState(),this.updateGameStatus(),this.boardFlipped=this.determineOrientation(),this.playSound("newGame")}setGameMode(e){this.gameMode=e}setHumanColor(e){this.gameMode==="human-vs-bot"&&this.modeSettings["human-vs-bot"]&&(this.modeSettings["human-vs-bot"].colorChangedMidGame=e!==this.modeSettings["human-vs-bot"].originalHumanColor),this.humanColor=e,this.boardFlipped=this.determineOrientation()}setBotDifficulty(e){this.gameMode==="human-vs-bot"&&this.modeSettings["human-vs-bot"]&&(this.modeSettings["human-vs-bot"].difficultyChangedMidGame=e!==this.modeSettings["human-vs-bot"].originalBotDifficulty),this.botDifficulty=e}getGameMode(){return this.gameMode}getHumanColor(){return this.humanColor}shouldFlipBoard(){return this.gameMode==="human-vs-bot"&&this.humanColor==="black"}determineOrientation(){this.boardFlipped;let e=!1;return this.gameMode==="human-vs-human"?this.orientationMode==="none"?e=!1:this.orientationMode==="table"?e=this.currentPlayer==="black":this.orientationMode==="handoff"&&(e=this.currentPlayer==="black"):e=this.humanColor==="black",e}setCorrectBoardPerspective(){const e=this.shouldFlipBoard();return this.boardFlipped!==e?(this.boardFlipped=e,!0):!1}getGameState(){const e=this.engine.exportJson(),t=!this.isInUndoRedoState&&!this.botWasCancelled;return{board:this.board,currentPlayer:this.currentPlayer,gameStatus:this.gameStatus,moveHistory:this.moveHistory,stateHistory:this.stateHistory,currentStateIndex:this.currentStateIndex,selectedSquare:t?this.selectedSquare:null,possibleMoves:t?this.possibleMoves:[],gameMode:this.gameMode,humanColor:this.humanColor,botDifficulty:this.botDifficulty,allowUndo:this.allowUndo,boardFlipped:this.boardFlipped,orientationMode:this.orientationMode,castlingRights:this.castlingRights,enPassantTarget:this.enPassantTarget,soundEnabled:this.soundEnabled,engineState:e}}loadGameState(e,t={}){var i,o,a,c,u,l,f,w;if(e.engineState)this.engine=new window.jsChessEngine.Game(e.engineState);else{const C={pieces:{},turn:e.currentPlayer,castling:{whiteShort:((o=(i=e.castlingRights)==null?void 0:i.white)==null?void 0:o.kingside)||!1,whiteLong:((c=(a=e.castlingRights)==null?void 0:a.white)==null?void 0:c.queenside)||!1,blackShort:((l=(u=e.castlingRights)==null?void 0:u.black)==null?void 0:l.kingside)||!1,blackLong:((w=(f=e.castlingRights)==null?void 0:f.black)==null?void 0:w.queenside)||!1},enPassant:e.enPassantTarget||null},y=["A","B","C","D","E","F","G","H"],B=["8","7","6","5","4","3","2","1"];for(let D=0;D<8;D++)for(let Q=0;Q<8;Q++){const M=e.board[D][Q];if(M){const S=y[Q]+B[D],x={pawn:"P",rook:"R",knight:"N",bishop:"B",queen:"Q",king:"K"}[M.type];C.pieces[S]=M.color==="white"?x:x.toLowerCase()}}this.engine=new window.jsChessEngine.Game(C)}if(this.botWasCancelled?(this.selectedSquare=null,this.possibleMoves=[]):(this.selectedSquare=e.selectedSquare||null,this.possibleMoves=e.possibleMoves||[]),t.preserveGameMode||(this.gameMode=e.gameMode||"human-vs-bot"),this.humanColor=e.humanColor||"white",this.botDifficulty=e.botDifficulty!==void 0?e.botDifficulty:1,this.allowUndo=e.allowUndo!==void 0?e.allowUndo:!0,this.orientationMode=e.orientationMode||"handoff",this.boardFlipped=!1,this.soundEnabled=e.soundEnabled!==void 0?e.soundEnabled:!0,this.moveHistory=e.moveHistory||[],this.moveHistory.length>100-1&&(this.moveHistory=this.moveHistory.slice(-99)),this.currentMoveIndex=e.currentMoveIndex!==void 0?e.currentMoveIndex:this.moveHistory.length-1,e.initialEngineState)this.initialEngineState=JSON.parse(JSON.stringify(e.initialEngineState));else{const C=new window.jsChessEngine.Game;this.initialEngineState=JSON.parse(JSON.stringify(C.exportJson()))}if(!this.initialEngineState.pieces||!this.initialEngineState.pieces.E2){const C=new window.jsChessEngine.Game;this.initialEngineState=JSON.parse(JSON.stringify(C.exportJson()))}if(this.updateCachedState(),this.boardFlipped=this.determineOrientation(),e.stateHistory&&e.stateHistory.length>0){this.stateHistory=e.stateHistory,this.currentStateIndex=e.currentStateIndex||e.stateHistory.length-1;const C=100;this.stateHistory.length>C&&(this.stateHistory.length-C,this.stateHistory=[this.stateHistory[0],...this.stateHistory.slice(-99)],this.currentStateIndex===e.stateHistory.length-1?this.currentStateIndex=this.stateHistory.length-1:this.currentStateIndex=Math.min(this.currentStateIndex,this.stateHistory.length-1))}else{this.stateHistory=[],this.currentStateIndex=0;const C=new window.jsChessEngine.Game;if(this.stateHistory.push({engineState:JSON.parse(JSON.stringify(C.exportJson())),move:null,notation:null,timestamp:Date.now()}),e.moveHistory&&e.moveHistory.length>0){const y=new window.jsChessEngine.Game;for(let B=0;B<e.moveHistory.length;B++){const D=e.moveHistory[B],Q=this.coordsToSquare(D.from.row,D.from.col),M=this.coordsToSquare(D.to.row,D.to.col);try{y.move(Q,M),this.stateHistory.push({engineState:JSON.parse(JSON.stringify(y.exportJson())),move:D,notation:D.notation||`${Q}-${M}`,timestamp:Date.now()}),this.currentStateIndex++}catch{break}}}}}async autoSave(){try{const e=this.getGameState(),t=this.getStorageKey();return await se(t,e),await se("last_game_mode",{mode:this.gameMode,timestamp:Date.now()}),!0}catch{return!1}}getStorageKey(){return`chess_game_state_${this.gameMode.replace(/-/g,"_")}`}isHumanTurn(){return this.gameMode==="human-vs-human"?!0:this.currentPlayer===this.humanColor}getGameModeDisplayText(){return this.gameMode==="human-vs-human"?"Human vs Human":`Human (${this.humanColor}) vs Bot`}getBotDifficultyText(){return{0:"Ella",1:"Evy",2:"Emmy",3:"Asa"}[this.botDifficulty]||"Ella"}getColorOptions(){return[{value:"white",label:"White"},{value:"black",label:"Black"}]}getGameModeOptions(){return[{value:"human-vs-bot",label:"Human vs Bot"},{value:"human-vs-human",label:"Human vs Human"}]}createSoundSystem(){const e={},t=Ne,s={moves:[t.move_1,t.move_2,t.move_3,t.move_4,t.move_5],quick:[t.quick_1,t.quick_2],pop_check:t.pop_check};let i=-1,o=!1,a=null;const c=()=>{if(!o)try{const l=window.AudioContext||window.webkitAudioContext;l&&!a&&(a=new l,a.state==="suspended"&&a.resume());const f=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCDS");f.volume=.01,f.play().catch(()=>{}),o=!0}catch{}},u=(l,f=.4)=>{if(!this.soundEnabled||!l)return Promise.resolve();c();const w=new Audio(l);w.volume=f;const C=w.play();return C!==void 0?C.catch(y=>{y.name==="NotAllowedError"&&document.addEventListener("click",()=>{w.play().catch(()=>{})},{once:!0})}):Promise.resolve()};return e.move=()=>{const l=s.moves.map((w,C)=>C).filter(w=>w!==i),f=Math.floor(Math.random()*l.length);i=l[f],u(s.moves[i])},e.capture=()=>{const l=[...s.moves,...s.quick],f=Math.floor(Math.random()*l.length),w=l[f],C=l.filter((D,Q)=>Q!==f),y=Math.floor(Math.random()*C.length),B=C[y];u(w,.25),setTimeout(()=>u(B,.4),50)},e.check=()=>{u(s.pop_check)},e.checkmate=()=>{u(s.pop_check)},e.newGame=()=>{const l=Math.floor(Math.random()*s.moves.length);u(s.moves[l])},e.victory=()=>{u(s.pop_check)},e.gameEnd=()=>{const l=Math.floor(Math.random()*s.moves.length);u(s.moves[l])},e}playSound(e){this.sounds&&this.sounds[e]&&this.sounds[e]()}initializeBoard(){}isValidPosition(e,t){return e>=0&&e<8&&t>=0&&t<8}canUndo(){return this.allowUndo&&this.currentStateIndex>0}canRedo(){return this.allowUndo&&this.currentStateIndex<this.stateHistory.length-1}reconstructEngineState(e){if(e===0)return this.stateHistory[0].engineState;const t=this.stateHistory[0].engineState;if(!t)return null;const s=new window.jsChessEngine.Game(JSON.parse(JSON.stringify(t)));for(let i=1;i<=e;i++){const o=this.stateHistory[i].move;if(!o)break;const a=this.coordsToSquare(o.from.row,o.from.col),c=this.coordsToSquare(o.to.row,o.to.col);try{s.move(a,c)}catch{break}}return s.exportJson()}undoMove(){if(!this.canUndo())return!1;const e=this.stateHistory[this.currentStateIndex],t=e&&e.captured;this.currentStateIndex--;const s=this.stateHistory[this.currentStateIndex];let i;return s.engineState?i=JSON.parse(JSON.stringify(s.engineState)):i=this.reconstructEngineState(this.currentStateIndex),i?(this.engine=new window.jsChessEngine.Game(i),this.updateCachedState(),this.updateGameStatus(),this.board=this.engineStateToBoard(),this.selectedSquare=null,this.possibleMoves=[],this.isInUndoRedoState=!0,t?this.playSound("capture"):this.playSound("move"),this.gameStatus==="checkmate"?setTimeout(()=>this.playSound("checkmate"),t?100:0):this.gameStatus==="check"&&setTimeout(()=>this.playSound("check"),t?100:0),!0):!1}redoMove(){if(!this.canRedo())return!1;this.currentStateIndex++;const e=this.stateHistory[this.currentStateIndex];let t;if(e.engineState?t=JSON.parse(JSON.stringify(e.engineState)):t=this.reconstructEngineState(this.currentStateIndex),!t)return!1;this.engine=new window.jsChessEngine.Game(t),this.updateCachedState(),this.updateGameStatus(),this.board=this.engineStateToBoard(),e.move,this.selectedSquare=null,this.possibleMoves=[],this.isInUndoRedoState=!0;const s=e.move&&e.move.captured;return s?this.playSound("capture"):this.playSound("move"),this.gameStatus==="checkmate"?setTimeout(()=>this.playSound("checkmate"),s?100:0):this.gameStatus==="check"&&setTimeout(()=>this.playSound("check"),s?100:0),!0}getCurrentMoveIndex(){return this.currentStateIndex-1}getCapturedPieces(){const e=[],t=[];for(let i=1;i<=this.currentStateIndex&&i<this.stateHistory.length;i++){const o=this.stateHistory[i];o.move&&o.move.captured&&(o.move.captured.color==="white"?e.push(o.move.captured):t.push(o.move.captured))}const s={queen:1,rook:2,bishop:3,knight:4,pawn:5};return e.sort((i,o)=>(s[i.type]||6)-(s[o.type]||6)),t.sort((i,o)=>(s[i.type]||6)-(s[o.type]||6)),{whiteCaptured:e,blackCaptured:t}}validateGameState(){return!0}coordsToChessNotation(e,t){return this.coordsToSquare(e,t)}generateMoveNotation(e,t,s,i,o,a,c,u){const l=this.coordsToSquare(e,t),f=this.coordsToSquare(s,i);return`${l}-${f}`}generateMoveCommentary(e,t,s,i,o,a,c){this.coordsToSquare(e,t);const u=this.coordsToSquare(s,i),l=o.color.charAt(0).toUpperCase()+o.color.slice(1);return a?`${l} ${o.type} captures ${u} ${a.type}`:`${l} ${o.type} to ${u}`}calculateMaterialBalance(){const e={pawn:1,knight:3,bishop:3,rook:5,queen:9,king:0};let t=0,s=0;for(let i=0;i<8;i++)for(let o=0;o<8;o++){const a=this.board[i][o];if(a){const c=e[a.type]||0;a.color==="white"?t+=c:s+=c}}return t-s}countPieces(){let e=0;for(let t=0;t<8;t++)for(let s=0;s<8;s++)this.board[t][s]&&e++;return e}calculateBoardChecksum(e){return JSON.stringify(e).length}calculateMoveHistoryChecksum(e){return e.length}testSaveLoadCycle(){return Promise.resolve(!0)}getPieceSymbol(e){var s;return e&&((s={king:{white:"♚",black:"♚"},queen:{white:"♛",black:"♛"},rook:{white:"♜",black:"♜"},bishop:{white:"♝",black:"♝"},knight:{white:"♞",black:"♞"},pawn:{white:"♟︎",black:"♟︎"}}[e.type])==null?void 0:s[e.color])||""}isInCheck(){const e=this.engine.exportJson();return e.check||e.checkMate}}let P,b;const k=class k{constructor(e){this.game=e,this.boardElement=document.getElementById("chess-board"),this.moveDisplayElement=document.getElementById("move-display"),this.gameStatusElement=document.getElementById("game-status"),this.isFlipping=!1,this.inputEnabled=!0,this.lastAlertTime=0,this.alertCooldown=1e3,this.audioInitialized=!1,this.isBotProcessing=!1,this.thinkingInterval=null,this.botTurnTimer=null,this.thinkingMessageTimer=null;const t=()=>{this.audioInitialized||(this.game.playSound("move"),this.audioInitialized=!0,document.removeEventListener("click",t),document.removeEventListener("touchstart",t))};document.addEventListener("click",t,{once:!0}),document.addEventListener("touchstart",t,{once:!0});const s=document.getElementById("move-expand");s&&s.addEventListener("click",()=>{const i=s.dataset.fullText;i&&this.showNotification(i,"info",3e3)}),this.initializeBoard(),this.updateDisplay(),this.checkInitialBotTurn()}initializeBoard(){this.boardElement.innerHTML="";for(let e=0;e<8;e++)for(let t=0;t<8;t++){const s=document.createElement("div");s.className="chess-square",s.dataset.row=e,s.dataset.col=t;const i=(e+t)%2===0;s.classList.add(i?"light-square":"dark-square"),s.addEventListener("click",async o=>await this.handleSquareClick(o)),s.addEventListener("touchstart",o=>this.handleTouchStart(o),{passive:!1}),s.addEventListener("touchend",async o=>await this.handleTouchEnd(o),{passive:!1}),s.addEventListener("touchcancel",o=>this.handleTouchCancel(o),{passive:!1}),this.boardElement.appendChild(s)}this.applyTheme()}async handleSquareClick(e){const t=parseInt(e.target.dataset.row),s=parseInt(e.target.dataset.col);await this.handleSquareSelection(t,s)}handleTouchStart(e){e.preventDefault(),this.touchStartTime=Date.now(),this.touchTarget=e.target,e.target.classList.contains("chess-square")&&e.target.classList.add("touch-active")}async handleTouchEnd(e){if(e.preventDefault(),this.touchTarget&&this.touchTarget.classList.contains("chess-square")&&this.touchTarget.classList.remove("touch-active"),this.touchStartTime&&Date.now()-this.touchStartTime<300){let t=e.target;for(;t&&!t.dataset.row;)t=t.parentElement;if(t&&t.dataset.row!==void 0){const s=parseInt(t.dataset.row),i=parseInt(t.dataset.col);await this.handleSquareSelection(s,i)}}this.touchStartTime=null,this.touchTarget=null}handleTouchCancel(e){e.preventDefault(),this.touchTarget&&this.touchTarget.classList.contains("chess-square")&&this.touchTarget.classList.remove("touch-active"),this.touchStartTime=null,this.touchTarget=null}getLogicalCoordinates(e,t){const s=this.game.gameMode==="human-vs-bot",i=this.game.orientationMode==="table";return this.game.boardFlipped&&(s||i)?{row:7-e,col:7-t}:{row:e,col:t}}getDisplayCoordinates(e,t){const s=this.game.gameMode==="human-vs-bot",i=this.game.orientationMode==="table";return this.game.boardFlipped&&(s||i)?{row:7-e,col:7-t}:{row:e,col:t}}flipBoard(e){this.isFlipping||(this.isFlipping=!0,this.boardElement.style.transform="rotateY(90deg)",this.boardElement.style.transition="transform 0.3s ease-in-out",setTimeout(()=>{const t=this.game.determineOrientation();this.game.boardFlipped=t,this.updateDisplay(),this.boardElement.style.transform="rotateY(0deg)",setTimeout(()=>{this.boardElement.style.transition="",this.isFlipping=!1,e&&e()},150)},150))}updateBoardPerspective(){if(this.isFlipping)return;const e=this.game.boardFlipped,t=this.boardElement.classList.contains("flipped");e&&!t?this.boardElement.classList.add("flipped"):!e&&t&&this.boardElement.classList.remove("flipped"),this.updateDisplay()}async handleBotTurn(){if(this.botTurnTimer&&(clearTimeout(this.botTurnTimer),this.botTurnTimer=null),k._globalBotProcessing||(k._globalBotProcessing=!0),this.game&&this.game.botWasCancelled&&(console.log("[handleBotTurn] Clearing stale botWasCancelled flag"),this.game.botWasCancelled=!1),this.game.isPerformingRedo){k._globalBotProcessing=!1;return}const e=this.game.gameMode,t=this.game.isBotTurn(),s=this.game.gameStatus;if(e!=="human-vs-bot"||!t){k._globalBotProcessing=!1;return}if(s!=="playing"&&s!=="check"){this.showBotThinking(!1),this.setInputEnabled(!1),k._globalBotProcessing=!1;return}try{await this.continueBotTurn()}catch(i){console.error("Error in continueBotTurn:",i),k._globalBotProcessing=!1}}async continueBotTurn(){const e=Date.now();let t=!1;try{const s=this.game.isBotTurn(),o=(!this.game.moveHistory||this.game.moveHistory.length===0)&&s?"INITIAL":"SUBSEQUENT";this.setInputEnabled(!1),this.showBotThinking(!0),this.updateGameStateIndicators();const a=["analyzing the board","considering options","evaluating threats","contemplating moves","weighing possibilities","calculating variations","examining positions","planning strategy","searching for tactics","assessing material","checking for pins","looking for forks","studying patterns","pondering deeply","processing combinations"];let c=Math.floor(Math.random()*a.length),u=0;this.thinkingInterval&&(clearInterval(this.thinkingInterval),this.thinkingInterval=null),this.thinkingMessageTimer&&(clearTimeout(this.thinkingMessageTimer),this.thinkingMessageTimer=null),this.thinkingMessageTimer=setTimeout(()=>{const w=document.getElementById("instruction-label"),C=this.game.getBotDifficultyText();if(w){const y=`${C} is ${a[c]}...`;w.textContent=y,w.classList.remove("hidden"),w.style.backgroundColor="#FE5F00",w.style.color="white",w.style.fontWeight="bold",t=!0,this.thinkingInterval=setInterval(()=>{u++,c=(c+1)%a.length;const B=document.getElementById("instruction-label");if(B&&!B.classList.contains("hidden")){const D=".".repeat(u%3+1),Q=`${C} is ${a[c]}${D}`;B.textContent=Q,B.style.backgroundColor="#FE5F00",B.style.color="white",B.style.fontWeight="bold"}},4e3)}},4e3);const l=await this.game.executeBotMove();this.thinkingMessageTimer&&(clearTimeout(this.thinkingMessageTimer),this.thinkingMessageTimer=null),this.thinkingInterval&&(clearInterval(this.thinkingInterval),this.thinkingInterval=null);const f=document.getElementById("instruction-label");f&&(f.classList.add("hidden"),f.style.backgroundColor="",f.style.color="",f.style.fontWeight="",f.textContent=""),l&&l.success?(this.updateDisplay(),l.enteredCheck&&this.highlightKing(this.game.humanColor),this.showBotThinking(!1),this.game.gameStatus==="checkmate"||this.game.gameStatus==="stalemate"?(this.setInputEnabled(!1),this.handleGameEnd()):this.setInputEnabled(!0)):(this.showBotThinking(!1),this.game.botWasCancelled||this.showNotification("Bot move failed - your turn","error"),this.setInputEnabled(!0),setTimeout(()=>{this.hideInstructionLabel()},3e3))}catch{const o=Date.now()-e;o<5e3&&await new Promise(c=>setTimeout(c,5e3-o)),this.thinkingMessageTimer&&(clearTimeout(this.thinkingMessageTimer),this.thinkingMessageTimer=null),this.thinkingInterval&&(clearInterval(this.thinkingInterval),this.thinkingInterval=null);const a=document.getElementById("instruction-label");a&&(a.classList.add("hidden"),a.style.backgroundColor="",a.style.color="",a.style.fontWeight="",a.textContent=""),this.showBotThinking(!1),this.setInputEnabled(!0),this.showNotification("Bot error - your turn","error"),setTimeout(()=>{this.hideInstructionLabel()},3e3)}finally{k._globalBotProcessing=!1}}cancelBotThinking(){this.currentBotWorker&&typeof this.currentBotWorker.cancel=="function"&&(this.currentBotWorker.cancel(),this.currentBotWorker=null),this.botTurnTimer&&(clearTimeout(this.botTurnTimer),this.botTurnTimer=null),this.thinkingMessageTimer&&(clearTimeout(this.thinkingMessageTimer),this.thinkingMessageTimer=null),this.thinkingInterval&&(clearInterval(this.thinkingInterval),this.thinkingInterval=null),k._globalBotProcessing=!1,this.showBotThinking(!1);const e=document.getElementById("instruction-label");e&&(e.classList.add("hidden"),e.style.backgroundColor="",e.style.color="",e.style.fontWeight="",e.textContent=""),this.game&&(this.game.selectedSquare=null,this.game.possibleMoves=[]),this.setInputEnabled(!0),this.botCancelled=!0,this.game&&(this.game.botWasCancelled=!0),this.justCancelledBot=!0,setTimeout(()=>{this.justCancelledBot=!1},500);const t=setInterval(()=>{this.game&&this.game.selectedSquare&&(this.game.selectedSquare=null,this.game.possibleMoves=[])},50);setTimeout(()=>{clearInterval(t)},1e3)}setInputEnabled(e){this.inputEnabled=e,e?(this.boardElement.style.opacity="1",this.boardElement.style.pointerEvents="auto"):(this.boardElement.style.opacity="0.7",this.boardElement.style.pointerEvents="none")}showBotThinking(e){const t=this.game.gameMode,s=this.game.isBotTurn(),i=this.game.gameStatus,o=document.getElementById("instruction-label"),a=document.getElementById("move-display");if(e&&t==="human-vs-bot"&&s&&(i==="playing"||i==="check")){if(o&&!o.textContent.includes("analyzing deeply")&&this.hideInstructionLabel(),a&&!document.querySelector(".bot-thinking-spinner")){const c=document.createElement("div");c.className="bot-thinking-spinner",a.parentElement.appendChild(c)}this.inputEnabled&&this.setInputEnabled(!1),this.updatePlayerTurnIndicator(this.game.currentPlayer,t)}else{this.hideInstructionLabel();const c=document.querySelector(".bot-thinking-spinner");c&&c.remove(),t==="human-vs-bot"&&this.updatePlayerTurnIndicator(this.game.currentPlayer,t)}}hideInstructionLabel(){const e=document.getElementById("instruction-label");e&&(e.classList.add("hidden"),e.textContent="")}handleGameEnd(){const e=this.game.gameStatus,t=this.game.currentPlayer;this.setInputEnabled(!1);let s=!1;if(e==="checkmate"){const i=t==="white"?"Black":"White";this.game.gameMode==="human-vs-bot"?(this.game.humanColor==="white"&&i==="White"||this.game.humanColor==="black"&&i==="Black")&&(s=!0):s=!0}this.game.soundEnabled&&this.game.sounds&&(s?this.game.sounds.victory():this.game.sounds.gameEnd())}updateGameStateIndicators(){this.game.gameStatus;const e=this.game.currentPlayer,t=this.game.gameMode;this.updatePlayerTurnIndicator(e,t),this.updateCapturedPiecesDisplay(),this.updateMoveHistoryDisplay()}updatePlayerTurnIndicator(e,t){const s=document.getElementById("current-player");if(!s)return;let i="";try{const c=this.game.calculateMaterialBalance();e==="white"?c>0?i=` (+${c})`:c<0&&(i=` (${c})`):c<0?i=` (+${Math.abs(c)})`:c>0&&(i=` (-${c})`)}catch{}let o="",a=`player-indicator ${e}`;if(t==="human-vs-bot"){this.game.getHumanColor();const c=this.game.isBotTurn(),u=this.game.gameStatus;if(u==="checkmate"||u==="stalemate")o=`Game Over (${u})`,a+=" game-ended";else if(u==="check")c?(o="Bot's turn",a+=" bot-turn check"):(o="Your turn",a+=" human-turn check");else if(c){const l=document.getElementById("instruction-label");l&&!l.classList.contains("hidden")&&l.textContent.includes("Bot is thinking")?(o="Bot is thinking...",a+=" bot-thinking"):(o="Bot's turn",a+=" bot-turn")}else o="Your turn",a+=" human-turn"}else o=`${e.charAt(0).toUpperCase()+e.slice(1)}'s turn`;s.textContent=o,s.className=a}updateCapturedPiecesDisplay(){const e=document.getElementById("captured-pieces");if(!e)return;const{whiteCaptured:t,blackCaptured:s}=this.game.getCapturedPieces(),i=this.game.gameMode,o=this.game.getHumanColor();e.innerHTML="";const a=this.game.calculateMaterialBalance(),c=this.createMaterialBalanceBar(a,i,o);e.appendChild(c);const u=document.createElement("div");u.className="captured-section left";const l=document.createElement("div");if(l.className="captured-section right",i==="human-vs-bot"){const w=o==="white",C=w?s:t,y=w?t:s,B=document.createElement("span");B.className="captured-label",B.textContent="White",u.appendChild(B);const D=document.createElement("span");D.className="captured-pieces-list",D.textContent=C.length>0?C.map(S=>this.game.getPieceSymbol(S)).join(""):"-",u.appendChild(D),u.dataset.pieceCount=C.length;const Q=document.createElement("span");Q.className="captured-label",Q.textContent="Black",l.appendChild(Q);const M=document.createElement("span");M.className="captured-pieces-list",M.textContent=y.length>0?y.map(S=>this.game.getPieceSymbol(S)).join(""):"-",l.appendChild(M),l.dataset.pieceCount=y.length}else{const w=document.createElement("span");w.className="captured-label",w.textContent="White",u.appendChild(w);const C=document.createElement("span");C.className="captured-pieces-list",C.textContent=s.length>0?s.map(D=>this.game.getPieceSymbol(D)).join(""):"-",u.appendChild(C),u.dataset.pieceCount=s.length;const y=document.createElement("span");y.className="captured-label",y.textContent="Black",l.appendChild(y);const B=document.createElement("span");B.className="captured-pieces-list",B.textContent=t.length>0?t.map(D=>this.game.getPieceSymbol(D)).join(""):"-",l.appendChild(B),l.dataset.pieceCount=t.length}const f=document.createElement("div");f.className="captured-sections-wrapper",f.appendChild(u),f.appendChild(l),e.appendChild(f),e.style.display="flex"}createMaterialBalanceBar(e,t,s){const i=document.createElement("div");i.className="material-balance-bar";const o=Math.max(0,Math.min(100,(e+39)/78*100)),a=document.createElement("div");let c="balance-indicator";return t==="human-vs-bot"&&(s==="white"&&e>0||s==="black"&&e<0?c+=" human-advantage":e!==0&&(c+=" bot-advantage")),a.className=c,a.style.width=`${o}%`,i.appendChild(a),i}updateMoveHistoryDisplay(){const e=document.getElementById("move-history");if(!e||this.game.currentStateIndex<=0)return;const t=this.game.stateHistory.slice(1,this.game.currentStateIndex+1),s=t.slice(-6);let i='<div class="move-history-title">Recent Moves:</div>';s.forEach((o,a)=>{const c=t.indexOf(o)+1,u=this.game.gameMode==="human-vs-bot"&&o.move&&o.move.piece&&o.move.piece.color!==this.game.humanColor;i+=`
        <div class="move-entry ${u?"bot-move":"human-move"}">
          <span class="move-player">${u?"🤖":"👤"}</span>
          <span class="move-notation">${o.notation}</span>
          <span class="move-number">#${c}</span>
        </div>
      `}),e.innerHTML=i}checkInitialBotTurn(){if(this.game.gameMode!=="human-vs-bot")return;this.game.getHumanColor(),this.game.currentPlayer;const e=this.game.isBotTurn();if(!((this.game.moveHistory?this.game.moveHistory.length:0)>0)&&!(this.game.gameStatus==="checkmate"||this.game.gameStatus==="stalemate")){if(this.game.gameStatus!=="playing"){setTimeout(()=>{this.checkInitialBotTurn()},500);return}e?(this.showBotThinking(!0),this.setInputEnabled(!1),this.updateGameStateIndicators(),this.botTurnTimer&&(clearTimeout(this.botTurnTimer),this.botTurnTimer=null),this.botTurnTimer=setTimeout(()=>{const s=this.game.isBotTurn(),i=!this.game.moveHistory||this.game.moveHistory.length===0;this.game.gameStatus==="playing"&&s&&i?this.handleBotTurn():i||(this.showBotThinking(!1),this.setInputEnabled(!0),this.updateGameStateIndicators())},1e3)):(this.setInputEnabled(!0),this.showBotThinking(!1),this.updateGameStateIndicators())}}onNewGameStart(){this.updateDisplay(),(!this.game.moveHistory||this.game.moveHistory.length===0)&&this.checkInitialBotTurn()}async handleSquareSelection(e,t){if(console.log(`[handleSquareSelection] Click at row=${e}, col=${t}`),console.log(`[handleSquareSelection] State: isFlipping=${this.isFlipping}, inputEnabled=${this.inputEnabled}`),this.isFlipping||this.inputEnabled===!1){console.log("[handleSquareSelection] BLOCKED - isFlipping or input disabled");return}if(this.justCancelledBot){if(this.justCancelledBot=!1,this.game.selectedSquare){console.log("[handleSquareSelection] BLOCKED - clearing stale selection after bot cancel"),this.game.selectedSquare=null,this.game.possibleMoves=[],this.updateDisplay();return}console.log("[handleSquareSelection] Bot was cancelled but no stale selection, allowing click")}if(console.log("[handleSquareSelection] Bot turn check:",{gameMode:this.game.gameMode,isBotTurn:this.game.isBotTurn(),botCancelled:this.botCancelled,botWasCancelled:this.game.botWasCancelled,currentPlayer:this.game.currentPlayer,humanColor:this.game.humanColor}),this.game.gameMode==="human-vs-bot"&&this.game.isBotTurn()&&!this.botCancelled&&!this.game.botWasCancelled)if(this.game.isInUndoRedoState){const a=this.getLogicalCoordinates(e,t),c=a.row,u=a.col,l=this.game.board[c][u];if(this.game.lastUndoWasBotMove?this.showNotification("Bot turn - scroll wheel to redo or make your move","warning"):this.showNotification("Bot turn - scroll wheel to redo or make your move","warning"),!(l&&l.color===this.game.humanColor))return}else{const a=document.getElementById("instruction-label");(!a||a.classList.contains("hidden")||!a.textContent.includes("Bot is thinking"))&&this.showNotification("Bot turn","info");return}const s=this.getLogicalCoordinates(e,t),i=s.row,o=s.col;if(console.log("[handleSquareSelection] selectedSquare before logic:",this.game.selectedSquare),this.game.selectedSquare){const a=this.game.selectedSquare.row,c=this.game.selectedSquare.col;if(this.game.board[a][c],a===i&&c===o)this.game.selectedSquare=null;else{const u=this.game.getPossibleMoves(a,c);console.log("[handleSquareSelection] Checking move from",a,c,"to",i,o),console.log("[handleSquareSelection] Possible moves:",u.map(f=>`(${f.row},${f.col})`).join(", "));const l=u.find(f=>f.row===i&&f.col===o);if(console.log("[handleSquareSelection] Is valid move?",!!l),l){this.game.gameStatus;const f=await this.game.makeMove(a,c,i,o);if(f&&f.success){if(this.game.isInUndoRedoState=!1,this.game.lastUndoWasBotMove=!1,this.botCancelled=!1,console.log("[handleSquareSelection] Clearing game.botWasCancelled after human move"),this.game.botWasCancelled=!1,this.game.selectedSquare=null,f.enteredCheck&&this.highlightKing(this.game.currentPlayer),!(this.game.gameMode==="human-vs-human"&&!this.game.isUndoRedoAction)){if(this.game.gameMode==="human-vs-bot"&&!this.game.isUndoRedoAction){const w=this.game.gameStatus==="playing"||this.game.gameStatus==="check",C=this.game.isBotTurn();w&&C?(this.showBotThinking(!0),this.setInputEnabled(!1),this.updateGameStateIndicators(),this.botTurnTimer&&(clearTimeout(this.botTurnTimer),this.botTurnTimer=null),k._globalBotProcessing||(k._globalBotProcessing=!0,this.botTurnTimer=setTimeout(()=>{this.handleBotTurn()},150))):this.game.gameStatus==="checkmate"||this.game.gameStatus==="stalemate"?this.setInputEnabled(!1):this.setInputEnabled(!0)}}}else this.game.selectedSquare=null}else{const f=this.game.board[i][o];if(f&&f.color===this.game.currentPlayer){this.game.selectedSquare={row:i,col:o},this.updateDisplay();return}this.game.isInCheck()?this.highlightKing(this.game.currentPlayer):this.game.selectedSquare=null}}}else{const a=this.game.board[i][o];console.log("[handleSquareSelection] Piece selection check:",{logicalRow:i,logicalCol:o,piece:a?`${a.color} ${a.type}`:"null",pieceColor:a==null?void 0:a.color,humanColor:this.game.humanColor,currentPlayer:this.game.currentPlayer,botCancelled:this.botCancelled,gameBotWasCancelled:this.game.botWasCancelled});const c=this.botCancelled||this.game.botWasCancelled?a&&a.color===this.game.humanColor:a&&a.color===this.game.currentPlayer;console.log("[handleSquareSelection] canSelectPiece:",c),c?(console.log("[handleSquareSelection] SELECTING PIECE at",i,o),this.game.selectedSquare={row:i,col:o}):console.log("[handleSquareSelection] CANNOT SELECT - wrong color or no piece")}this.updateDisplay()}updateDisplay(){const e=document.getElementById("game-container");e.classList.remove("orientation-table","orientation-handoff","orientation-none");const t=this.game.gameMode==="human-vs-bot"?"none":this.game.orientationMode;e.setAttribute("data-orientation-mode",t),e.setAttribute("data-board-flipped",this.game.boardFlipped.toString()),e.setAttribute("data-game-mode",this.game.gameMode),e.setAttribute("data-current-player",this.game.currentPlayer);const s=this.boardElement.children;for(let c=0;c<s.length;c++){const u=s[c],l=parseInt(u.dataset.row),f=parseInt(u.dataset.col),w=this.getLogicalCoordinates(l,f),C=this.game.board[w.row][w.col];if(u.innerHTML="",u.classList.remove("selected","valid-move","white-move","black-move","last-move"),C){const y=document.createElement("div");y.className=`chess-piece ${C.color}`,y.setAttribute("data-piece",C.type),y.textContent=this.game.getPieceSymbol(C),u.appendChild(y),w.row===1&&w.col===4||w.row===3&&w.col}if(this.game.selectedSquare&&this.game.selectedSquare.row===w.row&&this.game.selectedSquare.col===w.col&&u.classList.add("selected"),this.game.selectedSquare&&this.game.getPossibleMoves(this.game.selectedSquare.row,this.game.selectedSquare.col).some(B=>B.row===w.row&&B.col===w.col)&&(u.classList.add("valid-move"),u.classList.add(this.game.currentPlayer==="white"?"white-move":"black-move")),this.game.currentStateIndex>0&&this.game.currentStateIndex<this.game.stateHistory.length){const y=this.game.stateHistory[this.game.currentStateIndex];if(y&&y.move){const B=y.move;(B.from.row===w.row&&B.from.col===w.col||B.to.row===w.row&&B.to.col===w.col)&&u.classList.add("last-move")}}}this.game.calculateMaterialBalance(),this.game.currentPlayer;const i=document.getElementById("move-display"),o=document.getElementById("move-expand"),a=document.getElementById("move-info");if(i){let c="";if(this.game.currentStateIndex>0&&this.game.currentStateIndex<this.game.stateHistory.length){const u=this.game.stateHistory[this.game.currentStateIndex];if(u&&u.move){const l=u.commentary||u.notation;let f="";this.game.gameStatus==="checkmate"?f='<span style="color: #FE5F00;"> - Checkmate!</span>':this.game.gameStatus==="check"?f='<span style="color: #FE5F00;"> - Check!</span>':this.game.gameStatus==="stalemate"&&(f='<span style="color: #FE5F00;"> - Stalemate!</span>'),c=l+f}}c||(this.game.gameMode==="human-vs-human"?c="Human vs Human • Ready to play":c=`Bot (${this.game.getBotDifficultyText()}) • Ready to play`),c.includes("<span")?i.innerHTML=c:i.textContent=c,setTimeout(()=>{i.scrollWidth>i.clientWidth&&o&&a?(a.classList.add("has-overflow"),o.dataset.fullText=i.textContent):a&&a.classList.remove("has-overflow")},0)}this.gameStatusElement.textContent="",this.updateGameStateIndicators(),this.game.gameStatus!=="playing"&&this.game.gameStatus!=="check"&&setTimeout(()=>{this.handleGameEnd()},300)}applyTheme(){const e={light:"#ddb88c",dark:"#a0522d",lightTexture:"radial-gradient(circle at 25% 25%, #c9a876 0%, transparent 50%), radial-gradient(circle at 75% 75%, #c9a876 0%, transparent 50%)",darkTexture:"radial-gradient(circle at 25% 25%, #8b4513 0%, transparent 50%), radial-gradient(circle at 75% 75%, #8b4513 0%, transparent 50%)"};document.documentElement.style.setProperty("--light-square",e.light),document.documentElement.style.setProperty("--dark-square",e.dark);const t=this.boardElement.children;for(let s=0;s<t.length;s++){const i=t[s],o=parseInt(i.dataset.row),a=parseInt(i.dataset.col);(o+a)%2===0?(i.style.backgroundColor=e.light,i.style.backgroundImage=e.lightTexture):(i.style.backgroundColor=e.dark,i.style.backgroundImage=e.darkTexture)}}showMessage(e){this.gameStatusElement.textContent=e,setTimeout(()=>{this.updateDisplay()},2e3)}showOptionsMenu(){const e=document.getElementById("options-overlay");if(e){if(e.classList.remove("hidden"),this.game.originalGameMode===void 0&&(this.game.originalGameMode=this.game.gameMode),this.game.gameMode==="human-vs-bot"&&this.game.modeSettings["human-vs-bot"]){const s=this.game.modeSettings["human-vs-bot"];s.colorChangedMidGame||(s.originalHumanColor=this.game.humanColor),s.difficultyChangedMidGame||(s.originalBotDifficulty=this.game.botDifficulty)}const t=document.getElementById("options-menu");t&&(t.scrollTop=0),this.updateOptionsButtons(),e.dataset.listenersAdded||(this.setupOptionsEventListeners(),e.dataset.listenersAdded="true")}}hideOptionsMenu(){const e=document.getElementById("options-overlay");e&&e.classList.add("hidden");const t=this.game.determineOrientation();this.game.boardFlipped!==t&&(this.game.boardFlipped=t,this.updateDisplay()),this.game.gameMode==="human-vs-bot"&&this.game.moveHistory.length===0&&setTimeout(()=>{this.checkInitialBotTurn()},100)}updateOptionsButtons(){const e=document.getElementById("options-title");if(e){const B=this.game.gameMode==="human-vs-human"?"Human vs Human":"Human vs Bot";e.textContent=`Chess R1 - ${B}`}const t=document.getElementById("back-btn"),s=document.getElementById("new-game-btn");if(t){const B=this.game.moveHistory&&this.game.moveHistory.length>0,D=this.game.stateHistory&&this.game.stateHistory.length>1,Q=B||D,M=this.game.gameMode!==this.game.originalGameMode;let S=!1,L=!1;this.game.gameMode==="human-vs-bot"&&this.game.modeSettings["human-vs-bot"]&&(S=this.game.modeSettings["human-vs-bot"].colorChangedMidGame,L=this.game.modeSettings["human-vs-bot"].difficultyChangedMidGame);const x=(S||L)&&!M;t.classList.remove("active-button"),s&&s.classList.remove("active-button"),Q?x?(t.disabled=!0,S&&L?t.textContent="Start new game (settings changed)":S?t.textContent="Start new game (color changed)":t.textContent="Start new game (difficulty changed)",t.classList.add("disabled"),s&&s.classList.add("active-button")):(t.disabled=!1,t.textContent="Back to game",t.classList.remove("disabled"),t.classList.add("active-button")):(t.disabled=!0,t.textContent="Back to game (no moves yet)",t.classList.add("disabled"),s&&s.classList.add("active-button"))}document.querySelectorAll('input[name="gameMode"]').forEach(B=>{B.checked=B.value===this.game.gameMode}),document.querySelectorAll('input[name="playerColor"]').forEach(B=>{B.checked=B.value===this.game.humanColor}),document.querySelectorAll('input[name="soundEffects"]').forEach(B=>{B.checked=B.value==="on"===this.game.soundEnabled}),document.querySelectorAll('input[name="allowUndo"]').forEach(B=>{B.checked=B.value==="on"===this.game.allowUndo}),document.querySelectorAll('input[name="botDifficulty"]').forEach(B=>{B.checked=B.value===String(this.game.botDifficulty)});const l=document.getElementById("color-group");l&&(this.game.gameMode==="human-vs-bot"?(l.style.display="block",l.offsetHeight):l.style.display="none");const f=document.getElementById("difficulty-group");f&&(this.game.gameMode==="human-vs-bot"?(f.style.display="block",f.offsetHeight):f.style.display="none");const w=document.getElementById("orientation-mode-group");w&&(this.game.gameMode==="human-vs-human"?(w.style.display="block",w.offsetHeight):w.style.display="none");const C=document.getElementById("undo-group");C&&(C.style.display="block",C.offsetHeight),document.querySelectorAll('input[name="orientationMode"]').forEach(B=>{B.checked=B.value===this.game.orientationMode})}setupOptionsEventListeners(){document.querySelectorAll('input[name="gameMode"]').forEach(l=>{l.addEventListener("change",async()=>{if(l.checked&&l.value!==this.game.gameMode)try{const f=this.game.gameMode;await this.game.autoSave(),this.game.setGameMode(l.value),se("last_game_mode",{mode:l.value,timestamp:Date.now()}),this.game.originalGameMode!==l.value&&(this.game.originalGameMode=l.value);const w=this.game.getStorageKey(),C=localStorage.getItem(w);if(C)try{const D=JSON.parse(C)}catch{}const y=await W(w);let B=!1;try{B=y&&this.isValidSavedState(y)}catch{B=!1}B?(this.game.loadGameState(y,{preserveGameMode:!0}),this.updateDisplay(),this.showMessage(`Switched to ${l.value==="human-vs-human"?"Human vs Human":"Human vs Bot"} - Game restored!`)):(this.game.newGame(),this.onNewGameStart(),await this.game.autoSave(),this.showMessage(`Switched to ${l.value==="human-vs-human"?"Human vs Human":"Human vs Bot"} - New game started!`))}catch{this.game.newGame(),this.onNewGameStart()}finally{this.updateOptionsButtons(),setTimeout(()=>{this.updateOptionsButtons(),document.getElementById("color-group"),document.getElementById("difficulty-group"),document.getElementById("orientation-mode-group"),document.getElementById("undo-group")},10)}})}),document.querySelectorAll('input[name="playerColor"]').forEach(l=>{l.addEventListener("change",()=>{l.checked&&(this.game.setHumanColor(l.value),this.game.autoSave(),this.updateOptionsButtons())})}),document.querySelectorAll('input[name="soundEffects"]').forEach(l=>{l.addEventListener("change",()=>{if(l.checked){const f=l.value==="on";this.game.soundEnabled=f,this.game.autoSave()}})}),document.querySelectorAll('input[name="allowUndo"]').forEach(l=>{l.addEventListener("change",()=>{if(l.checked){const f=l.value==="on";this.game.allowUndo=f,this.game.autoSave()}})}),document.querySelectorAll('input[name="botDifficulty"]').forEach(l=>{l.addEventListener("change",()=>{if(l.checked){const f=parseInt(l.value);this.game.setBotDifficulty(f),this.game.autoSave(),this.updateOptionsButtons()}})});const a=document.getElementById("new-game-btn"),c=document.getElementById("back-btn");document.getElementById("options-overlay"),a&&a.addEventListener("click",()=>{this.confirmNewGame()}),c&&c.addEventListener("click",()=>{this.hideOptionsMenu()}),document.querySelectorAll('input[name="orientationMode"]').forEach(l=>{l.addEventListener("change",()=>{if(l.checked){this.game.orientationMode=l.value;const f={table:"Table mode: Entire screen rotates for players sitting across",handoff:"Handoff mode: Pass device between players",none:"No rotation: Board stays fixed"};this.showMessage(f[l.value]),this.game.autoSave()}})})}confirmNewGame(){this.clearSavedState(),this.game.newGame(),this.updateDisplay(),this.hideOptionsMenu(),this.game.gameMode==="human-vs-bot"&&this.game.humanColor==="black"&&setTimeout(()=>{this.game.gameStatus==="playing"&&this.game.isBotTurn()&&this.checkInitialBotTurn()},1500),this.showMessage("New game started!")}async clearSavedState(){const t=[this.game.getStorageKey(),"chess_game_state"];if(window.creationStorage)try{for(const s of t)await window.creationStorage.plain.removeItem(s)}catch{}else try{for(const s of t)localStorage.removeItem(s)}catch{}}showNotification(e,t="default",s=null){if(this.thinkingInterval)return;const i=document.getElementById("instruction-label");if(!i)return;s===null&&(s=t==="warning"||t==="error"?3e3:2e3);const o=e.includes("Bot move undone")||e.includes("Bot turn");(t==="warning"||t==="error")&&this.notificationCooldown&&!o||(this.notificationTimeout&&clearTimeout(this.notificationTimeout),i.textContent=e,i.classList.remove("hidden"),i.style.backgroundColor="#FE5F00",i.style.color="white",i.style.fontWeight="bold",(t==="warning"||t==="error")&&(this.notificationCooldown=!0),this.notificationTimeout=setTimeout(()=>{i.classList.add("hidden"),i.style.backgroundColor="",i.style.color="",i.style.fontWeight="",(t==="warning"||t==="error")&&setTimeout(()=>{this.notificationCooldown=!1},500)},s))}showInstructionLabel(e){this.showNotification(e,"default",2e3)}showBotUndoAlert(e){this.showNotification(e,"warning",3e3)}showCheckAlert(e){this.showNotification(e,"warning",3e3)}highlightKing(e){for(let t=0;t<8;t++)for(let s=0;s<8;s++){const i=this.game.board[t][s];if(i&&i.type==="king"&&i.color===e){const o=this.getDisplayCoordinates(t,s),a=this.boardElement.children[o.row*8+o.col];a&&(a.classList.contains("king-warning")||(a.classList.add("king-warning"),setTimeout(()=>{a.classList.remove("king-warning")},2e3)));return}}}animateUndoRedo(e,t=!1){const s=this.boardElement;if(s){const u=window.getComputedStyle(s).transform,l=u&&u!=="none",f=e==="undo"?.98:1.02;l?s.style.transform=`${u} scale(${f})`:s.style.transform=`scale(${f})`,s.style.transition="transform 0.1s ease",setTimeout(()=>{l?s.style.transform=u:s.style.transform="scale(1)",setTimeout(()=>{s.style.transform="",s.style.transition=""},100)},100)}const i=this.game.getCurrentMoveIndex(),o=this.game.moveHistory?this.game.moveHistory.length:0,a=Math.ceil((i+1)/2);e==="undo"&&t&&(this.game.lastUndoWasBotMove=!0),e==="undo"?i>=0?this.showInstructionLabel(`At move ${a} (${i+1}/${o})`):this.showInstructionLabel("At start of game"):e==="redo"&&this.showInstructionLabel(`At move ${a} (${i+1}/${o})`)}verifyUIConsistency(){const e=[];try{const t=document.getElementById("current-player");if(t){const c=t.textContent.toLowerCase();c.includes(this.game.currentPlayer)||e.push(`Current player display mismatch: UI shows "${c}", game state is "${this.game.currentPlayer}"`)}const s=document.getElementById("move-count");if(s){const c=this.game.getCurrentMoveIndex(),u=c>=0?Math.ceil((c+1)/2):0,l=s.textContent;l.includes(u.toString())||e.push(`Move count display mismatch: UI shows "${l}", expected move number ${u}`)}const i=this.boardElement.children;let o=0;for(let c=0;c<i.length;c++){const u=i[c],l=parseInt(u.dataset.row),f=parseInt(u.dataset.col),w=this.game.board[l][f],C=u.querySelectorAll(".chess-piece"),y=C.length>0,B=w!==null;if(y!==B)o++;else if(B&&y){const D=C[0],Q=this.game.getPieceSymbol(w);D.textContent!==Q&&o++}}o>0&&e.push(`Board display has ${o} piece mismatches with game state`);const a=document.getElementById("game-status");if(a&&a.textContent.trim()){const c=a.textContent.toLowerCase();this.game.gameStatus==="checkmate"&&!c.includes("checkmate")?e.push(`Game status display mismatch: game is checkmate but UI shows "${c}"`):this.game.gameStatus==="stalemate"&&!c.includes("stalemate")&&e.push(`Game status display mismatch: game is stalemate but UI shows "${c}"`)}return!(e.length>0)}catch{return!1}}updateMenuVisibility(){const e=document.getElementById("color-group"),t=document.getElementById("difficulty-group"),s=document.getElementById("orientation-mode-group");this.game.gameMode==="human-vs-human"?(e&&(e.style.display="none"),t&&(t.style.display="none"),s&&(s.style.display="block")):(e&&(e.style.display="block"),t&&(t.style.display="block"),s&&(s.style.display="none"))}getLatestTimestamp(e){if(!e)return 0;if(e.stateHistory&&e.stateHistory.length>0){const t=e.stateHistory[e.stateHistory.length-1];if(t&&t.timestamp)return t.timestamp}return e.moveHistory&&e.moveHistory.length>0?1:0}async loadGameState(){try{const e=await W("last_game_mode"),t=(e==null?void 0:e.mode)||null,s="chess_game_state_human_vs_bot",i="chess_game_state_human_vs_human",o=await W(s),a=await W(i);let c=null,u=null;if(t&&(u=t,t==="human-vs-human"?c=a:t==="human-vs-bot"&&(c=o)),!u&&!c)if(o&&a){const l=this.getLatestTimestamp(o);this.getLatestTimestamp(a)>l?(c=a,u="human-vs-human"):(c=o,u="human-vs-bot")}else a?(c=a,u="human-vs-human"):o&&(c=o,u="human-vs-bot");return c||(c=await W("chess_game_state"),c&&(u=c.gameMode||"human-vs-bot")),!c&&u?(this.game.setGameMode(u),this.game.newGame(),this.onNewGameStart(),this.updateMenuVisibility(),!0):c?this.isValidSavedState(c)?(u&&(this.game.gameMode=u),this.game.loadGameState(c),this.applyTheme(),this.updateDisplay(),this.updateMenuVisibility(),!0):(await this.clearSavedState(),!1):!1}catch{return await this.clearSavedState(),!1}}isValidSavedState(e){if(!e||typeof e!="object"||!e.board||!Array.isArray(e.board)||e.moveHistory&&!Array.isArray(e.moveHistory)||e.board.length!==8)return!1;for(let o=0;o<e.board.length;o++){const a=e.board[o];if(!Array.isArray(a)||a.length!==8)return!1}if(!e.currentPlayer||e.currentPlayer!=="white"&&e.currentPlayer!=="black")return!1;const s=(e.moveHistory||[]).length,i=e.totalMoves||s;return!!(s>0||e.currentPlayer==="black"||e.gameStatus&&(e.gameStatus==="checkmate"||e.gameStatus==="stalemate")||e.currentMoveIndex!==void 0&&e.currentMoveIndex>=0||i>0||this.boardDiffersFromInitial(e.board))}boardDiffersFromInitial(e){if(!e||!Array.isArray(e))return!1;const t=this.game?this.game.initializeBoard():this.initializeBoard();for(let s=0;s<8;s++){if(!e[s]||!Array.isArray(e[s]))return!1;for(let i=0;i<8;i++){const o=e[s][i],a=t[s][i];if(!(o===null&&a===null)&&(o===null||a===null||o.type!==a.type||o.color!==a.color))return!0}}return!1}};we(k,"_globalBotProcessing",!1);let Z=k;window.addEventListener("scrollUp",async()=>{const E=document.getElementById("options-overlay");if(E&&!E.classList.contains("hidden")){const e=document.getElementById("options-menu");e&&(e.scrollTop=Math.max(0,e.scrollTop-50));return}if(P&&b)if(P.allowUndo){let e=!1;if(P.gameMode==="human-vs-bot"&&P.currentStateIndex<P.stateHistory.length-1){const t=P.stateHistory[P.currentStateIndex+1];t&&t.move&&t.move.piece&&(e=t.move.piece.color!==P.humanColor)}P.redoMove()&&(P.selectedSquare=null,b.updateDisplay(),b.animateUndoRedo("redo",e),b.updatePlayerTurnIndicator(P.currentPlayer,P.gameMode),b.updateCapturedPiecesDisplay(),b.updateMoveHistoryDisplay(),await P.autoSave(),P.gameMode==="human-vs-bot"?(P.isBotTurn(),b.showBotThinking(!1),b.setInputEnabled(!0)):P.gameMode==="human-vs-human"&&b.setInputEnabled(!0))}else b.showInstructionLabel("Push button to enable undo")});window.addEventListener("scrollDown",async()=>{const E=document.getElementById("options-overlay");if(E&&!E.classList.contains("hidden")){const e=document.getElementById("options-menu");e&&(e.scrollTop=Math.min(e.scrollHeight-e.clientHeight,e.scrollTop+50));return}if(P&&b){const e=Z._globalBotProcessing;let t=!1;if(e&&(b.cancelBotThinking(),t=!0),P.allowUndo){if(t){const o=P.stateHistory[P.currentStateIndex];o&&o.move&&o.move.piece&&o.move.piece.color!==P.humanColor&&P.undoMove()}console.log("[scrollDown] Before undo - currentPlayer:",P.currentPlayer,"humanColor:",P.humanColor);const s=P.undoMove();console.log("[scrollDown] After undo - currentPlayer:",P.currentPlayer,"humanColor:",P.humanColor);let i=!1;if(!t&&P.gameMode==="human-vs-bot"&&P.currentStateIndex>=0){const o=P.stateHistory[P.currentStateIndex+1];o&&o.move&&o.move.piece&&(i=o.move.piece.color!==P.humanColor)}s&&(P.selectedSquare=null,P.possibleMoves=[],b.updateDisplay(),e&&(b.showNotification("Bot thinking cancelled - move undone","info",1500),P.selectedSquare=null,P.possibleMoves=[],P.currentStateIndex<P.stateHistory.length-1&&(console.log("[Undo] Truncating redo history after bot cancellation"),P.stateHistory=P.stateHistory.slice(0,P.currentStateIndex+1)),setTimeout(()=>{P.botWasCancelled=!1,b.botCancelled=!1},100),setTimeout(()=>{P.selectedSquare=null,P.possibleMoves=[]},100)),b.animateUndoRedo("undo",i),b.updatePlayerTurnIndicator(P.currentPlayer,P.gameMode),b.updateCapturedPiecesDisplay(),b.updateMoveHistoryDisplay(),P.selectedSquare=null,P.possibleMoves=[],await P.autoSave(),P.gameMode==="human-vs-bot"?(b.showBotThinking(!1),b.setInputEnabled(!0)):P.gameMode==="human-vs-human"&&b.setInputEnabled(!0))}else b.showInstructionLabel("Push button to enable undo")}});let Ce=0;const je=300;window.addEventListener("sideClick",()=>{const E=Date.now();if(!(E-Ce<je)&&(Ce=E,P&&b)){const e=document.getElementById("options-overlay");if(e&&!e.classList.contains("hidden")){const t=document.getElementById("back-btn"),s=document.getElementById("new-game-btn");t&&!t.disabled?b.hideOptionsMenu():s&&!s.disabled&&b.confirmNewGame()}else b.showOptionsMenu()}});window.addEventListener("longPressStart",()=>{});window.addEventListener("longPressEnd",()=>{if(b){let E="Chess R1 by Eric Buess v0.0.2";if(P&&P.gameMode==="human-vs-bot"){const e=P.getBotDifficultyText(),t=P.botDifficulty,i={0:"easy",1:"normal",2:"hard",3:"harder",4:"hardest"}[t]||"normal";E+=`
Playing against ${e} (bot - ${i})`}if(P&&P.gameMode==="human-vs-human"&&P.orientationMode!=="none"){const t={handoff:"Handoff mode (pass device)",table:"Table mode (sitting across)"}[P.orientationMode];t&&(E+=`
${t}`)}b.showNotification(E,"info",3e3)}});window.onPluginMessage=function(E){if(E.data)try{const e=typeof E.data=="string"?JSON.parse(E.data):E.data}catch{}E.message};function Ye(E,e={}){if(typeof PluginMessageHandler<"u"){const t={message:`Chess game event: ${E}`,gameEvent:E,details:e,wantsR1Response:!1,wantsJournalEntry:!1};PluginMessageHandler.postMessage(JSON.stringify(t))}}async function se(E,e){if(!E||typeof E!="string"||e==null)return!1;if(window.creationStorage&&window.creationStorage.plain&&typeof window.creationStorage.plain.setItem=="function")try{const s=JSON.stringify(e),i=btoa(s);return await window.creationStorage.plain.setItem(E,i),!0}catch{}try{const s=JSON.stringify(e);return localStorage.setItem(E,s),!0}catch{}return!1}async function W(E){if(window.creationStorage&&window.creationStorage.plain&&typeof window.creationStorage.plain.getItem=="function")try{const t=await window.creationStorage.plain.getItem(E);if(t){const s=atob(t);return JSON.parse(s)}}catch{}try{const t=localStorage.getItem(E);if(t)return JSON.parse(t)}catch{}return null}document.addEventListener("DOMContentLoaded",async()=>{typeof PluginMessageHandler>"u"&&window.addEventListener("keydown",a=>{a.code==="KeyP"&&(a.preventDefault(),window.dispatchEvent(new CustomEvent("sideClick"))),a.code==="KeyI"&&(a.preventDefault(),window.dispatchEvent(new CustomEvent("longPressEnd"))),a.code==="ArrowLeft"&&(a.preventDefault(),window.dispatchEvent(new CustomEvent("scrollDown"))),a.code==="ArrowRight"&&(a.preventDefault(),window.dispatchEvent(new CustomEvent("scrollUp")))}),P=new Ue,b=new Z(P);const E=document.getElementById("game-header");E&&E.addEventListener("click",a=>{const c=E.getBoundingClientRect(),u=a.clientY-c.top,l=c.height;u<l*.4?window.dispatchEvent(new CustomEvent("longPressEnd")):window.dispatchEvent(new CustomEvent("sideClick"))});const e=document.getElementById("color-group"),t=document.getElementById("difficulty-group"),s=document.getElementById("orientation-mode-group"),i=document.getElementById("undo-group");e&&(e.style.display="block"),t&&(t.style.display="block"),s&&(s.style.display="none"),i&&(i.style.display="block"),await b.loadGameState()?(b.updateDisplay(),b.updateCapturedPiecesDisplay(),b.gameStatusElement.textContent="Game resumed",setTimeout(()=>{b.gameStatusElement.textContent=""},2e3)):(P.newGame(),b.updateDisplay()),b.updateCapturedPiecesDisplay(),Ye("game_initialized",{theme:P.theme,currentPlayer:P.currentPlayer})});window.addEventListener("beforeunload",E=>{});window.addEventListener("unload",E=>{});window.addEventListener("visibilitychange",()=>{});
