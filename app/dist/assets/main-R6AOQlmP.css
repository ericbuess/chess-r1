*{margin:0;padding:0;box-sizing:border-box}html,body{width:100vw;height:100vh;background-color:#000;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:3.5vw;overflow:hidden;-webkit-user-select:none;user-select:none;touch-action:manipulation;-webkit-tap-highlight-color:transparent}#app{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;padding:0;position:relative;box-sizing:border-box}#game-header{width:100%;height:auto;min-height:0;max-height:2vh;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0;padding:0;flex-shrink:0}#move-display{font-size:3.2vw;color:#fff;font-weight:700;white-space:nowrap;overflow:hidden}#move-expand{position:absolute;right:0;background:linear-gradient(to left,#181818 70%,transparent);padding-left:1vw;color:#fe5f00;font-weight:700;cursor:pointer;display:none}#move-info.has-overflow #move-expand{display:inline}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}#move-info{position:relative;display:flex;align-items:center;justify-content:center;margin-top:.3vh;margin-bottom:0;padding:.5vh 0 0;max-width:100%}#captured-pieces{font-size:4.2vw;color:#888;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;gap:.05vw;padding-bottom:0}.material-balance-bar{width:100%;height:4px;background:linear-gradient(90deg,#333,#222,#333);border-radius:2px;margin:1px 0 2px;overflow:hidden;position:relative}.balance-indicator{height:100%;background:linear-gradient(90deg,#666,#888,#666);transition:width .3s ease;position:relative}.balance-indicator.human-advantage{background:linear-gradient(90deg,#999,#bbb,#999)}.balance-indicator.bot-advantage{background:linear-gradient(90deg,#444,#666,#444)}.captured-sections-wrapper{display:flex;justify-content:center;align-items:center;gap:1vw;width:100%}.captured-section{display:flex;align-items:center;flex:0 1 auto;min-width:0}.captured-section.left{justify-content:flex-end;flex-grow:1}.captured-section.right{justify-content:flex-start;flex-grow:1}.captured-label{color:#fe5f00;font-weight:700;margin-right:.5vw;font-size:3vw;flex-shrink:0;white-space:nowrap}.captured-pieces-list{display:inline-block;letter-spacing:normal;position:relative;top:0;overflow:hidden;text-overflow:clip;white-space:nowrap;vertical-align:middle}.captured-section[data-piece-count="0"] .captured-pieces-list{min-width:2vw}.captured-section[data-piece-count] .captured-pieces-list{flex-shrink:1}.captured-sections-wrapper:has(.captured-section[data-piece-count="10"]),.captured-sections-wrapper:has(.captured-section[data-piece-count="11"]),.captured-sections-wrapper:has(.captured-section[data-piece-count="12"]),.captured-sections-wrapper:has(.captured-section[data-piece-count="13"]),.captured-sections-wrapper:has(.captured-section[data-piece-count="14"]),.captured-sections-wrapper:has(.captured-section[data-piece-count="15"]){justify-content:space-between}.captured-pieces-list span{margin:0 .2vw;display:inline-block;vertical-align:middle;line-height:1}.captured-pieces-list{font-size:4.5vw;display:inline-block}.captured-piece{display:inline-block;vertical-align:middle;position:relative;top:-.175em}.captured-pawn{font-size:.75em}#chess-board{width:var(--board-size);height:var(--board-size);aspect-ratio:1 / 1;display:grid;grid-template-columns:repeat(8,1fr);grid-template-rows:repeat(8,1fr);gap:0;border:2px solid #FE5F00;margin:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:0;position:relative;-webkit-transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out;transform:translateZ(0)}#app{-webkit-transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out}#board-wrapper{width:100%;display:flex;justify-content:center;align-items:center;flex:0 0 auto;position:relative}.aligned-game-content{width:var(--board-size);margin:0 auto;display:flex;flex-direction:column}#dialogue-wrapper{width:100%;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-bottom:4px}#bot-dialogue-area{position:relative;z-index:10;width:var(--board-size, calc(100vw - 4px) );max-width:100vw;display:flex;align-items:flex-start}#game-container{--reserved-height: max(25vh, 150px);--board-size: min( calc(100vw - 4px) , calc(100vh - var(--reserved-height)));width:100%;height:100%;display:flex;flex-direction:column;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:0;-webkit-transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out}#game-container[data-orientation-mode=table][data-board-flipped=true]{transform:rotate(180deg) translateZ(0);z-index:1;position:relative;-webkit-font-smoothing:antialiased}#game-container[data-orientation-mode=table][data-board-flipped=true] .chess-piece{-webkit-backface-visibility:hidden;backface-visibility:hidden}#game-container[data-orientation-mode=handoff][data-board-flipped=true] #board-wrapper{transform:rotate(180deg) translateZ(0)}#game-container[data-orientation-mode=handoff][data-board-flipped=true] .chess-piece{transform:rotate(180deg) translateZ(2px);-webkit-backface-visibility:hidden;backface-visibility:hidden}#game-container[data-orientation-mode=none],#game-container[data-orientation-mode=none] #chess-board,#game-container[data-orientation-mode=none] .chess-piece{transform:none!important}#game-container[data-orientation-mode=table][data-board-flipped=false],#game-container[data-orientation-mode=table][data-board-flipped=false] #chess-board,#game-container[data-orientation-mode=table][data-board-flipped=false] .chess-piece,#game-container[data-orientation-mode=handoff][data-board-flipped=false] #chess-board,#game-container[data-orientation-mode=handoff][data-board-flipped=false] .chess-piece{transform:none}#game-container.orientation-table{transform:rotate(180deg) translateZ(0);z-index:1;position:relative}#game-container.orientation-table #chess-board{will-change:transform}#game-container.orientation-table .chess-piece{-webkit-backface-visibility:hidden;backface-visibility:hidden}#game-container.orientation-handoff #chess-board{transform:rotate(180deg) translateZ(1px);will-change:transform}#game-container.orientation-handoff .chess-piece{transform:rotate(180deg) translateZ(2px);-webkit-backface-visibility:hidden;backface-visibility:hidden}#game-container.orientation-none{transform:none}#options-overlay{position:fixed}#options-overlay.hidden{transition:opacity .2s ease-in-out}.chess-square{position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:6vw;transition:transform .02s ease;touch-action:manipulation;-webkit-tap-highlight-color:transparent;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:translateZ(0);width:100%;height:100%;box-sizing:border-box;overflow:hidden}.chess-square:active{transform:scale(.95)}.chess-square.touch-active{transform:scale(.92);opacity:.85}.chess-square.selected:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ff06;pointer-events:none;z-index:1}.chess-square.valid-move:after{content:"";position:absolute;top:50%;left:50%;width:25%;height:25%;background-color:#80808080;border-radius:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:1}.chess-square.last-move:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ff06;pointer-events:none;z-index:1}.chess-square.king-warning:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f449;pointer-events:none;z-index:1;animation:king-warning-pulse .5s ease-in-out 3}@keyframes king-warning-pulse{0%{background-color:#f449;box-shadow:0 0 #f44c}50%{background-color:#f44c;box-shadow:0 0 0 2vw #f446}to{background-color:#f449;box-shadow:0 0 #f44c}}.chess-piece{font-size:min(9vw,8vh);transition:transform .03s ease;pointer-events:none;-webkit-filter:drop-shadow(.5px .5px 1px rgba(0,0,0,.6));filter:drop-shadow(.5px .5px 1px rgba(0,0,0,.6));position:relative;z-index:2;-webkit-text-stroke:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Menlo,Courier New,SF Pro Text,system-ui,-apple-system,monospace,sans-serif;font-variant-emoji:text;text-rendering:geometricPrecision}.chess-piece:hover{transform:scale(1.05)}.chess-piece.white{color:#fff;text-shadow:-.6px -.6px 0 #000000,.6px -.6px 0 #000000,-.6px .6px 0 #000000,.6px .6px 0 #000000,-.9px 0 0 #000000,.9px 0 0 #000000,0 -.9px 0 #000000,0 .9px 0 #000000,-1px -1px 0 #000000,1px -1px 0 #000000,-1px 1px 0 #000000,1px 1px 0 #000000;background:none;font-weight:900;-webkit-text-fill-color:#ffffff}.chess-piece.white[data-piece=pawn]{font-size:min(7vw,6vh)}@supports (-webkit-touch-callout: none){.chess-piece.white{color:#fff;text-shadow:-.7px -.7px 0 #000000,.7px -.7px 0 #000000,-.7px .7px 0 #000000,.7px .7px 0 #000000,-1px 0 0 #000000,1px 0 0 #000000,0 -1px 0 #000000,0 1px 0 #000000,-1.2px -1.2px 0 #000000,1.2px -1.2px 0 #000000,-1.2px 1.2px 0 #000000,1.2px 1.2px 0 #000000;-webkit-text-stroke:1.2px #000000;font-weight:900;-webkit-text-fill-color:#ffffff}.chess-piece.white[data-piece=pawn]{font-size:min(7vw,6vh);display:flex;align-items:center;justify-content:center;height:100%;width:100%}}.chess-piece.black{color:#000;text-shadow:-.6px -.6px 0 #ffffff,.6px -.6px 0 #ffffff,-.6px .6px 0 #ffffff,.6px .6px 0 #ffffff,-.9px 0 0 #ffffff,.9px 0 0 #ffffff,0 -.9px 0 #ffffff,0 .9px 0 #ffffff,-1px -1px 0 #ffffff,1px -1px 0 #ffffff,-1px 1px 0 #ffffff,1px 1px 0 #ffffff;background:none;font-weight:900;-webkit-text-fill-color:#000000}.chess-piece.black[data-piece=pawn]{font-size:min(7vw,6vh)}@supports (-webkit-touch-callout: none){.chess-piece.black{color:#000;text-shadow:-.7px -.7px 0 #ffffff,.7px -.7px 0 #ffffff,-.7px .7px 0 #ffffff,.7px .7px 0 #ffffff,-1px 0 0 #ffffff,1px 0 0 #ffffff,0 -1px 0 #ffffff,0 1px 0 #ffffff,-1.2px -1.2px 0 #ffffff,1.2px -1.2px 0 #ffffff,-1.2px 1.2px 0 #ffffff,1.2px 1.2px 0 #ffffff;-webkit-text-stroke:1px #ffffff;font-weight:900;-webkit-text-fill-color:#000000}.chess-piece.black[data-piece=pawn]{font-size:min(7vw,6vh);display:flex;align-items:center;justify-content:center;height:100%;width:100%}}:root{--light-square: #ddb88c;--dark-square: #a0522d}.chess-square.light-square{background-color:var(--light-square);background-image:radial-gradient(circle at 25% 25%,#c9a876 0%,transparent 50%),radial-gradient(circle at 75% 75%,#c9a876 0%,transparent 50%)}.chess-square.dark-square{background-color:var(--dark-square);background-image:radial-gradient(circle at 25% 25%,#8b4513 0%,transparent 50%),radial-gradient(circle at 75% 75%,#8b4513 0%,transparent 50%)}.hidden{display:none!important}@keyframes piece-move{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.piece-moving{animation:piece-move .3s ease}.king-warning{background-color:#fe5f00!important;box-shadow:0 0 10px #fe5f00,inset 0 0 10px #fe5f004d!important;animation:king-warning-pulse 1s ease-in-out infinite alternate}@keyframes king-warning-pulse{0%{box-shadow:0 0 10px #fe5f00,inset 0 0 10px #fe5f004d}to{box-shadow:0 0 20px #fe5f00,inset 0 0 15px #fe5f0080}}#options-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:1000}#options-menu{background:#000000fa;border:2px solid #FE5F00;border-radius:3vw;padding:4vw;text-align:left;width:92vw;height:85vh;max-width:92vw;max-height:85vh;overflow-y:auto;display:flex;flex-direction:column;gap:2.5vw;box-sizing:border-box}#options-title{color:#fe5f00;font-size:3.5vw;font-weight:700;text-align:center;margin-bottom:1vw}.option-group{margin-bottom:2vw}.option-label{color:#fe5f00;font-size:3.2vw;font-weight:700;margin-bottom:1.5vw}.radio-group{display:flex;flex-direction:column;gap:1vw}.radio-option{display:flex;align-items:center;cursor:pointer;padding:1.5vw;border-radius:1.5vw;transition:background-color .2s ease;min-height:32px}.radio-option:hover{background:#fe5f0066}.radio-option input[type=radio]{width:4vw;height:4vw;margin-right:2vw;accent-color:#FE5F00;cursor:pointer}.radio-text{color:#fff;font-size:3vw;cursor:pointer;flex:1}.radio-option input[type=radio]:checked+.radio-text{color:#fe5f00;font-weight:700}.button-group{display:flex;flex-direction:column;gap:2vw;margin-top:2vw}.action-btn{border-radius:2vw;padding:3vw 4vw;font-size:3.2vw;font-weight:700;min-height:44px;cursor:pointer;transition:all .2s ease;border:2px solid}.action-btn.primary{background:#fe5f00;color:#fff;border-color:#fe5f00}.action-btn.primary:hover{background:#e55400;border-color:#e55400}.action-btn.primary:active{background:#cc4a00;border-color:#cc4a00}.action-btn.secondary{background:#666;color:#fff;border-color:#666}.action-btn.secondary:hover{background:#555;border-color:#555}.action-btn.secondary:active{background:#444;border-color:#444}.action-btn.disabled,.action-btn:disabled{background:#333;color:#666;border-color:#333;cursor:not-allowed;opacity:.6}.action-btn.disabled:hover,.action-btn:disabled:hover{background:#333;border-color:#333}.action-btn.active-button{box-shadow:0 0 10px #fe5f00;border-color:#fe5f00!important;animation:active-button-pulse 1.5s ease-in-out infinite}@keyframes active-button-pulse{0%,to{box-shadow:0 0 10px #fe5f00}50%{box-shadow:0 0 20px #fe5f00,0 0 30px #fe5f0080}}.option-group.hidden{display:none}#game-mode-btn:hover{background:#245080!important;border-color:#245080!important}#color-choice-btn{background:#5a2d80!important;color:#fff!important;border-color:#5a2d80!important}#color-choice-btn:hover{background:#4a2470!important;border-color:#4a2470!important}#back-btn{background:#fe5f00;color:#fff;border-color:#fe5f00}#back-btn:not(.disabled):hover{background:#e55400;border-color:#e55400}#back-btn:not(.disabled):active{background:#d14800;color:#fff}#back-btn.disabled,#back-btn:disabled{background:#333!important;color:#666!important;border-color:#333!important;cursor:not-allowed;opacity:.6}#back-btn.disabled:hover,#back-btn:disabled:hover{background:#333!important;border-color:#333!important}#instruction-label{position:fixed;top:calc(12.5vh + min(100vw - 4px,100vh - 16vh));left:0;right:0;width:100vw;padding:2vh 2vw;font-size:4.5vw;font-weight:700;text-align:center;transition:all .3s ease;z-index:1000;display:flex;align-items:center;justify-content:center;min-height:calc(87.5vh - min(100vw - 4px,100vh - 16vh))}#instruction-label[id=instruction-label]{background:none!important;background-color:transparent!important;color:#fe5f00!important;border:none!important;box-shadow:none!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important}#instruction-label:has-text("Bot is thinking"){animation:botThinking 2s ease-in-out infinite;border-color:#ffb36699}#instruction-label.bot-thinking{animation:botThinking 2s ease-in-out infinite;color:#ffb366!important}#instruction-label.game-end{font-weight:700}#instruction-label.victory{color:#4caf50!important}#instruction-label.defeat{color:#ff6b6b!important}z-index: 500; animation: fadeInOut 2s ease-in-out; } @keyframes fadeInOut{0%,100%{opacity:0}20%,80%{opacity:1}}#debug-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000f2;z-index:1100;display:flex;align-items:center;justify-content:center}#debug-panel{background:#000;border:2px solid #FE5F00;border-radius:2vw;width:90vw;height:85vh;display:flex;flex-direction:column;overflow:hidden}#debug-header{background:#fe5f00;color:#000;padding:2vw 3vw;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}#debug-title{font-size:3.5vw;font-weight:700}#debug-header button{background:#000;color:#fe5f00;border:1px solid #000;border-radius:1.5vw;padding:1.5vw 2.5vw;font-size:2.5vw;font-weight:700;cursor:pointer;min-height:32px;margin-left:1vw}#debug-header button:hover{background:#333}#debug-header button:active{background:#555}#close-debug-btn{font-size:4vw!important;padding:1vw 2vw!important;font-weight:400!important}#debug-log-container{flex:1;overflow-y:auto;padding:2vw;background:#111}#debug-log{font-family:Courier New,monospace;font-size:2.2vw;line-height:1.4;color:#0f0;white-space:pre-wrap;word-wrap:break-word}.log-entry{margin-bottom:1vw;padding:1vw;border-left:2px solid #FE5F00;background:#fe5f000d}.log-timestamp{color:#888;font-size:2vw}.log-level-info{color:#0f0}.log-level-warn{color:#fa0}.log-level-error{color:#f44}.log-level-debug{color:#0af}@keyframes botThinking{0%,to{opacity:1;transform:translate(-50%) scale(1)}50%{opacity:.7;transform:translate(-50%) scale(1.02)}}.bot-thinking-spinner{display:inline-block;width:3vw;height:3vw;margin-left:2vw;vertical-align:middle}.bot-thinking-spinner:after{content:" ";display:block;width:2.5vw;height:2.5vw;border-radius:50%;border:.3vw solid #FE5F00;border-color:#FE5F00 transparent #FE5F00 transparent;animation:spin 1.2s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.help-dialog{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000000fa;border:2px solid #FE5F00;border-radius:2vw;padding:4vw;width:92vw;height:85vh;max-width:92vw;max-height:85vh;overflow-y:auto;z-index:1100;color:#fff;font-family:Courier New,monospace;font-size:3.5vw;box-shadow:0 0 20px #fe5f004d;animation:helpFadeIn .3s ease;box-sizing:border-box}@keyframes helpFadeIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.95)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.help-dialog.hiding{animation:helpFadeOut .3s ease;opacity:0}@keyframes helpFadeOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.95)}}.help-dialog-content{display:flex;flex-direction:column;gap:3vw;height:100%}.help-header{color:#fe5f00;font-weight:700;font-size:4vw;border-bottom:1px solid rgba(254,95,0,.3);padding-bottom:2vw;margin-bottom:2vw}.help-item{margin:1vw 0;line-height:1.4}.help-controls{margin-top:3vw;padding-top:3vw;border-top:1px solid rgba(254,95,0,.3)}.controls-header{color:#fe5f00;font-weight:700;margin-bottom:2vw;font-size:3.8vw}.control-item{margin:1.5vw 0;padding-left:2vw;line-height:1.3;font-size:3.2vw}.help-button-container{margin-top:0;padding-top:2vw;padding-bottom:5vw;display:flex;justify-content:center}.help-dismiss-btn{background:#fe5f00;color:#fff;border:none;border-radius:1vw;padding:3vw 8vw;font-size:4vw;font-weight:700;cursor:pointer;transition:all .2s}.help-dismiss-btn:active{background:#d14f00;transform:scale(.95)}
